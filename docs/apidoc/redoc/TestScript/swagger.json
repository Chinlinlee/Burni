{"openapi":"3.0.0","servers":[{"url":"https://dev.burni.xn--7-c56d.com/"}],"info":{"title":"Burni API documentation","version":"v2.1.0","description":"Documentation for the REST API"},"paths":{"/fhir/TestScript":{"post":{"operationId":"createTestScript","tags":["TestScript"],"summary":"create TestScript resource.","parameters":[],"requestBody":{"content":{"application/fhir+json":{"schema":{"$ref":"#/components/schemas/createTestScript"},"examples":{"json-example":{"value":{"resourceType":"TestScript","id":"testscript-example","text":{"status":"generated","div":"<div xmlns=\"http://www.w3.org/1999/xhtml\"><p><b>Generated Narrative with Details</b></p><p><b>id</b>: testscript-example</p><p><b>url</b>: <b>http://hl7.org/fhir/TestScript/testscript-example</b></p><p><b>identifier</b>: urn:oid:1.3.6.1.4.1.21367.2005.3.7.9876</p><p><b>version</b>: 1.0</p><p><b>name</b>: TestScript Example</p><p><b>status</b>: draft</p><p><b>experimental</b>: true</p><p><b>date</b>: 18/01/2017</p><p><b>publisher</b>: HL7</p><p><b>contact</b>: </p><p><b>description</b>: TestScript example resource with setup to delete if present and create a new instance of a Patient; and single test definition to read the created Patient with various asserts.</p><p><b>useContext</b>: </p><p><b>jurisdiction</b>: United States of America (the) <span>(Details : {urn:iso:std:iso:3166 code 'US' = 'United States of America', given as 'United States of America (the)'})</span></p><p><b>purpose</b>: Patient Conditional Create (Update), Read and Delete Operations</p><p><b>copyright</b>: © HL7.org 2011+</p><blockquote><p><b>metadata</b></p><h3>Links</h3><table><tr><td>-</td><td><b>Url</b></td><td><b>Description</b></td></tr><tr><td>*</td><td><a>http://hl7.org/fhir/patient.html</a></td><td>Demographics and other administrative information about an individual or animal receiving care or other health-related services.</td></tr></table><h3>Capabilities</h3><table><tr><td>-</td><td><b>Required</b></td><td><b>Validated</b></td><td><b>Description</b></td><td><b>Link</b></td><td><b>Capabilities</b></td></tr><tr><td>*</td><td>true</td><td>false</td><td>Patient Update, Read and Delete Operations</td><td><a>http://hl7.org/fhir/http.html#delete</a></td><td><a>CapabilityStatement/example</a></td></tr></table></blockquote><blockquote><p><b>fixture</b></p><p><b>autocreate</b>: false</p><p><b>autodelete</b>: false</p><p><b>resource</b>: <a>Peter Chalmers</a></p></blockquote><blockquote><p><b>fixture</b></p><p><b>autocreate</b>: false</p><p><b>autodelete</b>: false</p><p><b>resource</b>: <a>Peter Chalmers (minimum)</a></p></blockquote><p><b>profile</b>: <a>Generated Summary: url: http://hl7.org/fhir/StructureDefinition/Patient; version: 4.0.1; name: Patient; ACTIVE; date: 01/11/2019 9:29:23 AM; publisher: Health Level Seven International (Patient Administration); description: Demographics and other administrative information about an individual or animal receiving care or other health-related services.; purpose: Tracking patient is the center of the healthcare process.; 4.0.1; RESOURCE; type: Patient; baseDefinition: http://hl7.org/fhir/StructureDefinition/DomainResource; SPECIALIZATION</a></p><h3>Variables</h3><table><tr><td>-</td><td><b>Name</b></td><td><b>Path</b></td><td><b>SourceId</b></td></tr><tr><td>*</td><td>createResourceId</td><td>Patient/id</td><td>fixture-patient-create</td></tr></table><blockquote><p><b>setup</b></p><blockquote><p><b>action</b></p><h3>Operations</h3><table><tr><td>-</td><td><b>Type</b></td><td><b>Resource</b></td><td><b>Label</b></td><td><b>Description</b></td><td><b>Accept</b></td><td><b>EncodeRequestUrl</b></td><td><b>Params</b></td></tr><tr><td>*</td><td>Delete (Details: http://terminology.hl7.org/CodeSystem/testscript-operation-codes code delete = 'Delete', stated as 'null')</td><td>Patient</td><td>SetupDeletePatient</td><td>Execute a delete operation to insure the patient does not exist on the server.</td><td>json</td><td>true</td><td>/${createResourceId}</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td><td><b>Description</b></td><td><b>Direction</b></td><td><b>Operator</b></td><td><b>ResponseCode</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned HTTP status is 200(OK) or 204(No Content).</td><td>response</td><td>in</td><td>200,204</td><td>false</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Operations</h3><table><tr><td>-</td><td><b>Type</b></td><td><b>Resource</b></td><td><b>Label</b></td><td><b>Description</b></td><td><b>Accept</b></td><td><b>ContentType</b></td><td><b>EncodeRequestUrl</b></td><td><b>Params</b></td><td><b>SourceId</b></td></tr><tr><td>*</td><td>Update (Details: http://terminology.hl7.org/CodeSystem/testscript-operation-codes code update = 'Update', stated as 'null')</td><td>Patient</td><td>SetupCreatePatient</td><td>Create patient resource on test server using the contents of fixture-patient-create</td><td>json</td><td>json</td><td>true</td><td>/${createResourceId}</td><td>fixture-patient-create</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td><td><b>Description</b></td><td><b>Direction</b></td><td><b>ResponseCode</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned HTTP status is 201(Created).</td><td>response</td><td>201</td><td>false</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Operations</h3><table><tr><td>-</td><td><b>Type</b></td><td><b>Resource</b></td><td><b>Description</b></td><td><b>EncodeRequestUrl</b></td><td><b>TargetId</b></td></tr><tr><td>*</td><td>Read (Details: http://terminology.hl7.org/CodeSystem/testscript-operation-codes code read = 'Read', stated as 'null')</td><td>Patient</td><td>Read the created patient resource on the test server using the id from fixture-patient-create. Verify contents.</td><td>true</td><td>fixture-patient-create</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td><td><b>Description</b></td><td><b>Direction</b></td><td><b>Response</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned HTTP status is 200(OK).</td><td>response</td><td>okay</td><td>false</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td><td><b>Description</b></td><td><b>CompareToSourceId</b></td><td><b>CompareToSourceExpression</b></td><td><b>Operator</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit compareToSourceId reference to fixture-patient-create used to create the Patient.</td><td>fixture-patient-create</td><td>Patient.name.first().family</td><td>equals</td><td>false</td></tr></table></blockquote></blockquote><blockquote><p><b>test</b></p><p><b>name</b>: Read Patient</p><p><b>description</b>: Read a Patient and validate response.</p><blockquote><p><b>action</b></p><h3>Operations</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote></blockquote><blockquote><p><b>teardown</b></p><blockquote><p><b>action</b></p><h3>Operations</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote></blockquote></div>"},"url":"http://hl7.org/fhir/TestScript/testscript-example","identifier":{"system":"urn:ietf:rfc:3986","value":"urn:oid:1.3.6.1.4.1.21367.2005.3.7.9876"},"version":"1.0","name":"TestScript Example","status":"draft","experimental":true,"date":"2017-01-18","publisher":"HL7","contact":[{"name":"Support","telecom":[{"system":"email","value":"support@HL7.org","use":"work"}]}],"description":"TestScript example resource with setup to delete if present and create a new instance of a Patient; and single test definition to read the created Patient with various asserts.","useContext":[{"code":{"system":"http://terminology.hl7.org/CodeSystem/usage-context-type","code":"focus"},"valueCodeableConcept":{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/variant-state","code":"positive"}]}}],"jurisdiction":[{"coding":[{"system":"urn:iso:std:iso:3166","code":"US","display":"United States of America (the)"}]}],"purpose":"Patient Conditional Create (Update), Read and Delete Operations","copyright":"© HL7.org 2011+","metadata":{"link":[{"url":"http://hl7.org/fhir/patient.html","description":"Demographics and other administrative information about an individual or animal receiving care or other health-related services."}],"capability":[{"required":true,"validated":false,"description":"Patient Update, Read and Delete Operations","link":["http://hl7.org/fhir/http.html#delete","http://hl7.org/fhir/http.html#read","http://hl7.org/fhir/http.html#update"],"capabilities":"CapabilityStatement/example"}]},"fixture":[{"id":"fixture-patient-create","autocreate":false,"autodelete":false,"resource":{"reference":"Patient/example","display":"Peter Chalmers"}},{"id":"fixture-patient-minimum","autocreate":false,"autodelete":false,"resource":{"reference":"Patient/example","display":"Peter Chalmers (minimum)"}}],"profile":[{"id":"patient-profile","reference":"http://hl7.org/fhir/StructureDefinition/Patient"}],"variable":[{"name":"createResourceId","path":"Patient/id","sourceId":"fixture-patient-create"}],"setup":{"action":[{"operation":{"type":{"system":"http://terminology.hl7.org/CodeSystem/testscript-operation-codes","code":"delete"},"resource":"Patient","label":"SetupDeletePatient","description":"Execute a delete operation to insure the patient does not exist on the server.","accept":"json","encodeRequestUrl":true,"params":"/${createResourceId}"}},{"assert":{"description":"Confirm that the returned HTTP status is 200(OK) or 204(No Content).","direction":"response","operator":"in","responseCode":"200,204","warningOnly":false}},{"operation":{"type":{"system":"http://terminology.hl7.org/CodeSystem/testscript-operation-codes","code":"update"},"resource":"Patient","label":"SetupCreatePatient","description":"Create patient resource on test server using the contents of fixture-patient-create","accept":"json","contentType":"json","encodeRequestUrl":true,"params":"/${createResourceId}","sourceId":"fixture-patient-create"}},{"assert":{"description":"Confirm that the returned HTTP status is 201(Created).","direction":"response","responseCode":"201","warningOnly":false}},{"operation":{"type":{"system":"http://terminology.hl7.org/CodeSystem/testscript-operation-codes","code":"read"},"resource":"Patient","description":"Read the created patient resource on the test server using the id from fixture-patient-create. Verify contents.","encodeRequestUrl":true,"targetId":"fixture-patient-create"}},{"assert":{"description":"Confirm that the returned HTTP status is 200(OK).","direction":"response","response":"okay","warningOnly":false}},{"assert":{"description":"Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit compareToSourceId reference to fixture-patient-create used to create the Patient.","compareToSourceId":"fixture-patient-create","compareToSourceExpression":"Patient.name.first().family","operator":"equals","warningOnly":false}}]},"test":[{"id":"01-ReadPatient","name":"Read Patient","description":"Read a Patient and validate response.","action":[{"operation":{"type":{"system":"http://terminology.hl7.org/CodeSystem/testscript-operation-codes","code":"read"},"resource":"Patient","description":"Read the patient resource on the test server using the id from fixture-patient-create. Prevent URL encoding of the request.","encodeRequestUrl":false,"responseId":"fixture-patient-read","targetId":"fixture-patient-create"}},{"assert":{"label":"01-ReadPatientOK","description":"Confirm that the returned HTTP status is 200(OK).","direction":"response","response":"okay","warningOnly":false}},{"assert":{"description":"Confirm that the returned HTTP Header Last-Modified is present. Warning only as the server might not support versioning.","direction":"response","headerField":"Last-Modified","operator":"notEmpty","warningOnly":true}},{"assert":{"description":"Confirm that the returned resource type is Patient.","resource":"Patient","warningOnly":false}},{"assert":{"description":"Confirm that the returned Patient conforms to the base FHIR specification.","validateProfileId":"patient-profile","warningOnly":false}},{"assert":{"description":"Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit sourceId reference to read responseId fixture.","operator":"equals","path":"fhir:Patient/fhir:name/fhir:family/@value","sourceId":"fixture-patient-read","value":"Chalmers","warningOnly":false}},{"assert":{"description":"Confirm that the returned Patient contains the expected given name 'Peter'. Uses explicit sourceId reference to read responseId fixture.","operator":"equals","path":"fhir:Patient/fhir:name/fhir:given/@value","sourceId":"fixture-patient-read","value":"Peter","warningOnly":false}},{"assert":{"description":"Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit compareToSourceId reference to fixture-patient-create used to create the Patient and implicit reference to read response payload.","compareToSourceId":"fixture-patient-create","compareToSourcePath":"fhir:Patient/fhir:name/fhir:family/@value","operator":"equals","path":"fhir:Patient/fhir:name/fhir:family/@value","warningOnly":false}},{"assert":{"description":"Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit compareToSourceId reference to fixture-patient-create used to create the Patient and explicit reference to read response payload and default operator of 'equals'.","compareToSourceId":"fixture-patient-create","compareToSourcePath":"fhir:Patient/fhir:name/fhir:given/@value","path":"fhir:Patient/fhir:name/fhir:given/@value","sourceId":"fixture-patient-read","warningOnly":false}},{"assert":{"description":"Confirm that the returned resource contains the expected retained elements and values. Warning only to provide users with reviewable results.","minimumId":"fixture-patient-minimum","warningOnly":true}}]}],"teardown":{"action":[{"operation":{"type":{"system":"http://terminology.hl7.org/CodeSystem/testscript-operation-codes","code":"delete"},"resource":"Patient","description":"Delete the patient resource on the test server using the id from fixture-patient-create.","encodeRequestUrl":true,"targetId":"fixture-patient-create"}}]}}}}},"application/fhir+xml":{"schema":{"$ref":"#/components/schemas/createTestScript","xml":{"name":"TestScript"}},"examples":{"xml-example":{"value":"\n<?xml version=\"1.0\" encoding=\"UTF-8\"?><TestScript xmlns=\"http://hl7.org/fhir\"><id value=\"testscript-example\"/><text><status value=\"generated\"/><div xmlns=\"http://www.w3.org/1999/xhtml\"><p><b>Generated Narrative with Details</b></p><p><b>id</b>: testscript-example</p><p><b>url</b>: <b>http://hl7.org/fhir/TestScript/testscript-example</b></p><p><b>identifier</b>: urn:oid:1.3.6.1.4.1.21367.2005.3.7.9876</p><p><b>version</b>: 1.0</p><p><b>name</b>: TestScript Example</p><p><b>status</b>: draft</p><p><b>experimental</b>: true</p><p><b>date</b>: 18/01/2017</p><p><b>publisher</b>: HL7</p><p><b>contact</b>: </p><p><b>description</b>: TestScript example resource with setup to delete if present and create a new instance of a Patient; and single test definition to read the created Patient with various asserts.</p><p><b>useContext</b>: </p><p><b>jurisdiction</b>: United States of America (the) <span>(Details : {urn:iso:std:iso:3166 code 'US' = 'United States of America', given as 'United States of America (the)'})</span></p><p><b>purpose</b>: Patient Conditional Create (Update), Read and Delete Operations</p><p><b>copyright</b>: © HL7.org 2011+</p><blockquote><p><b>metadata</b></p><h3>Links</h3><table><tr><td>-</td><td><b>Url</b></td><td><b>Description</b></td></tr><tr><td>*</td><td><a>http://hl7.org/fhir/patient.html</a></td><td>Demographics and other administrative information about an individual or animal receiving care or other health-related services.</td></tr></table><h3>Capabilities</h3><table><tr><td>-</td><td><b>Required</b></td><td><b>Validated</b></td><td><b>Description</b></td><td><b>Link</b></td><td><b>Capabilities</b></td></tr><tr><td>*</td><td>true</td><td>false</td><td>Patient Update, Read and Delete Operations</td><td><a>http://hl7.org/fhir/http.html#delete</a></td><td><a>CapabilityStatement/example</a></td></tr></table></blockquote><blockquote><p><b>fixture</b></p><p><b>autocreate</b>: false</p><p><b>autodelete</b>: false</p><p><b>resource</b>: <a>Peter Chalmers</a></p></blockquote><blockquote><p><b>fixture</b></p><p><b>autocreate</b>: false</p><p><b>autodelete</b>: false</p><p><b>resource</b>: <a>Peter Chalmers (minimum)</a></p></blockquote><p><b>profile</b>: <a>Generated Summary: url: http://hl7.org/fhir/StructureDefinition/Patient; version: 4.0.1; name: Patient; ACTIVE; date: 01/11/2019 9:29:23 AM; publisher: Health Level Seven International (Patient Administration); description: Demographics and other administrative information about an individual or animal receiving care or other health-related services.; purpose: Tracking patient is the center of the healthcare process.; 4.0.1; RESOURCE; type: Patient; baseDefinition: http://hl7.org/fhir/StructureDefinition/DomainResource; SPECIALIZATION</a></p><h3>Variables</h3><table><tr><td>-</td><td><b>Name</b></td><td><b>Path</b></td><td><b>SourceId</b></td></tr><tr><td>*</td><td>createResourceId</td><td>Patient/id</td><td>fixture-patient-create</td></tr></table><blockquote><p><b>setup</b></p><blockquote><p><b>action</b></p><h3>Operations</h3><table><tr><td>-</td><td><b>Type</b></td><td><b>Resource</b></td><td><b>Label</b></td><td><b>Description</b></td><td><b>Accept</b></td><td><b>EncodeRequestUrl</b></td><td><b>Params</b></td></tr><tr><td>*</td><td>Delete (Details: http://terminology.hl7.org/CodeSystem/testscript-operation-codes code delete = 'Delete', stated as 'null')</td><td>Patient</td><td>SetupDeletePatient</td><td>Execute a delete operation to insure the patient does not exist on the server.</td><td>json</td><td>true</td><td>/${createResourceId}</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td><td><b>Description</b></td><td><b>Direction</b></td><td><b>Operator</b></td><td><b>ResponseCode</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned HTTP status is 200(OK) or 204(No Content).</td><td>response</td><td>in</td><td>200,204</td><td>false</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Operations</h3><table><tr><td>-</td><td><b>Type</b></td><td><b>Resource</b></td><td><b>Label</b></td><td><b>Description</b></td><td><b>Accept</b></td><td><b>ContentType</b></td><td><b>EncodeRequestUrl</b></td><td><b>Params</b></td><td><b>SourceId</b></td></tr><tr><td>*</td><td>Update (Details: http://terminology.hl7.org/CodeSystem/testscript-operation-codes code update = 'Update', stated as 'null')</td><td>Patient</td><td>SetupCreatePatient</td><td>Create patient resource on test server using the contents of fixture-patient-create</td><td>json</td><td>json</td><td>true</td><td>/${createResourceId}</td><td>fixture-patient-create</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td><td><b>Description</b></td><td><b>Direction</b></td><td><b>ResponseCode</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned HTTP status is 201(Created).</td><td>response</td><td>201</td><td>false</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Operations</h3><table><tr><td>-</td><td><b>Type</b></td><td><b>Resource</b></td><td><b>Description</b></td><td><b>EncodeRequestUrl</b></td><td><b>TargetId</b></td></tr><tr><td>*</td><td>Read (Details: http://terminology.hl7.org/CodeSystem/testscript-operation-codes code read = 'Read', stated as 'null')</td><td>Patient</td><td>Read the created patient resource on the test server using the id from fixture-patient-create. Verify contents.</td><td>true</td><td>fixture-patient-create</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td><td><b>Description</b></td><td><b>Direction</b></td><td><b>Response</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned HTTP status is 200(OK).</td><td>response</td><td>okay</td><td>false</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td><td><b>Description</b></td><td><b>CompareToSourceId</b></td><td><b>CompareToSourceExpression</b></td><td><b>Operator</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit compareToSourceId reference to fixture-patient-create used to create the Patient.</td><td>fixture-patient-create</td><td>Patient.name.first().family</td><td>equals</td><td>false</td></tr></table></blockquote></blockquote><blockquote><p><b>test</b></p><p><b>name</b>: Read Patient</p><p><b>description</b>: Read a Patient and validate response.</p><blockquote><p><b>action</b></p><h3>Operations</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote></blockquote><blockquote><p><b>teardown</b></p><blockquote><p><b>action</b></p><h3>Operations</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote></blockquote></div></text><url value=\"http://hl7.org/fhir/TestScript/testscript-example\"/><identifier><system value=\"urn:ietf:rfc:3986\"/><value value=\"urn:oid:1.3.6.1.4.1.21367.2005.3.7.9876\"/></identifier><version value=\"1.0\"/><name value=\"TestScript Example\"/><status value=\"draft\"/><experimental value=\"true\"/><date value=\"2017-01-18\"/><publisher value=\"HL7\"/><contact><name value=\"Support\"/><telecom><system value=\"email\"/><value value=\"support@HL7.org\"/><use value=\"work\"/></telecom></contact><description value=\"TestScript example resource with setup to delete if present and create a new instance of a Patient; and single test definition to read the created Patient with various asserts.\"/><useContext><code><system value=\"http://terminology.hl7.org/CodeSystem/usage-context-type\"/><code value=\"focus\"/></code><valueCodeableConcept><coding><system value=\"http://terminology.hl7.org/CodeSystem/variant-state\"/><code value=\"positive\"/></coding></valueCodeableConcept></useContext><jurisdiction><coding><system value=\"urn:iso:std:iso:3166\"/><code value=\"US\"/><display value=\"United States of America (the)\"/></coding></jurisdiction><purpose value=\"Patient Conditional Create (Update), Read and Delete Operations\"/><copyright value=\"© HL7.org 2011+\"/><metadata><link><url value=\"http://hl7.org/fhir/patient.html\"/><description value=\"Demographics and other administrative information about an individual or animal receiving care or other health-related services.\"/></link><capability><required value=\"true\"/><validated value=\"false\"/><description value=\"Patient Update, Read and Delete Operations\"/><link value=\"http://hl7.org/fhir/http.html#delete\"/><link value=\"http://hl7.org/fhir/http.html#read\"/><link value=\"http://hl7.org/fhir/http.html#update\"/><capabilities value=\"CapabilityStatement/example\"/></capability></metadata><fixture id=\"fixture-patient-create\"><autocreate value=\"false\"/><autodelete value=\"false\"/><resource><reference value=\"Patient/example\"/><display value=\"Peter Chalmers\"/></resource></fixture><fixture id=\"fixture-patient-minimum\"><autocreate value=\"false\"/><autodelete value=\"false\"/><resource><reference value=\"Patient/example\"/><display value=\"Peter Chalmers (minimum)\"/></resource></fixture><profile id=\"patient-profile\"><reference value=\"http://hl7.org/fhir/StructureDefinition/Patient\"/></profile><variable><name value=\"createResourceId\"/><path value=\"Patient/id\"/><sourceId value=\"fixture-patient-create\"/></variable><setup><action><operation><type><system value=\"http://terminology.hl7.org/CodeSystem/testscript-operation-codes\"/><code value=\"delete\"/></type><resource value=\"Patient\"/><label value=\"SetupDeletePatient\"/><description value=\"Execute a delete operation to insure the patient does not exist on the server.\"/><accept value=\"json\"/><encodeRequestUrl value=\"true\"/><params value=\"/${createResourceId}\"/></operation></action><action><assert><description value=\"Confirm that the returned HTTP status is 200(OK) or 204(No Content).\"/><direction value=\"response\"/><operator value=\"in\"/><responseCode value=\"200,204\"/><warningOnly value=\"false\"/></assert></action><action><operation><type><system value=\"http://terminology.hl7.org/CodeSystem/testscript-operation-codes\"/><code value=\"update\"/></type><resource value=\"Patient\"/><label value=\"SetupCreatePatient\"/><description value=\"Create patient resource on test server using the contents of fixture-patient-create\"/><accept value=\"json\"/><contentType value=\"json\"/><encodeRequestUrl value=\"true\"/><params value=\"/${createResourceId}\"/><sourceId value=\"fixture-patient-create\"/></operation></action><action><assert><description value=\"Confirm that the returned HTTP status is 201(Created).\"/><direction value=\"response\"/><responseCode value=\"201\"/><warningOnly value=\"false\"/></assert></action><action><operation><type><system value=\"http://terminology.hl7.org/CodeSystem/testscript-operation-codes\"/><code value=\"read\"/></type><resource value=\"Patient\"/><description value=\"Read the created patient resource on the test server using the id from fixture-patient-create. Verify contents.\"/><encodeRequestUrl value=\"true\"/><targetId value=\"fixture-patient-create\"/></operation></action><action><assert><description value=\"Confirm that the returned HTTP status is 200(OK).\"/><direction value=\"response\"/><response value=\"okay\"/><warningOnly value=\"false\"/></assert></action><action><assert><description value=\"Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit compareToSourceId reference to fixture-patient-create used to create the Patient.\"/><compareToSourceId value=\"fixture-patient-create\"/><compareToSourceExpression value=\"Patient.name.first().family\"/><operator value=\"equals\"/><warningOnly value=\"false\"/></assert></action></setup><test id=\"01-ReadPatient\"><name value=\"Read Patient\"/><description value=\"Read a Patient and validate response.\"/><action><operation><type><system value=\"http://terminology.hl7.org/CodeSystem/testscript-operation-codes\"/><code value=\"read\"/></type><resource value=\"Patient\"/><description value=\"Read the patient resource on the test server using the id from fixture-patient-create. Prevent URL encoding of the request.\"/><encodeRequestUrl value=\"false\"/><responseId value=\"fixture-patient-read\"/><targetId value=\"fixture-patient-create\"/></operation></action><action><assert><label value=\"01-ReadPatientOK\"/><description value=\"Confirm that the returned HTTP status is 200(OK).\"/><direction value=\"response\"/><response value=\"okay\"/><warningOnly value=\"false\"/></assert></action><action><assert><description value=\"Confirm that the returned HTTP Header Last-Modified is present. Warning only as the server might not support versioning.\"/><direction value=\"response\"/><headerField value=\"Last-Modified\"/><operator value=\"notEmpty\"/><warningOnly value=\"true\"/></assert></action><action><assert><description value=\"Confirm that the returned resource type is Patient.\"/><resource value=\"Patient\"/><warningOnly value=\"false\"/></assert></action><action><assert><description value=\"Confirm that the returned Patient conforms to the base FHIR specification.\"/><validateProfileId value=\"patient-profile\"/><warningOnly value=\"false\"/></assert></action><action><assert><description value=\"Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit sourceId reference to read responseId fixture.\"/><operator value=\"equals\"/><path value=\"fhir:Patient/fhir:name/fhir:family/@value\"/><sourceId value=\"fixture-patient-read\"/><value value=\"Chalmers\"/><warningOnly value=\"false\"/></assert></action><action><assert><description value=\"Confirm that the returned Patient contains the expected given name 'Peter'. Uses explicit sourceId reference to read responseId fixture.\"/><operator value=\"equals\"/><path value=\"fhir:Patient/fhir:name/fhir:given/@value\"/><sourceId value=\"fixture-patient-read\"/><value value=\"Peter\"/><warningOnly value=\"false\"/></assert></action><action><assert><description value=\"Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit compareToSourceId reference to fixture-patient-create used to create the Patient and implicit reference to read response payload.\"/><compareToSourceId value=\"fixture-patient-create\"/><compareToSourcePath value=\"fhir:Patient/fhir:name/fhir:family/@value\"/><operator value=\"equals\"/><path value=\"fhir:Patient/fhir:name/fhir:family/@value\"/><warningOnly value=\"false\"/></assert></action><action><assert><description value=\"Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit compareToSourceId reference to fixture-patient-create used to create the Patient and explicit reference to read response payload and default operator of 'equals'.\"/><compareToSourceId value=\"fixture-patient-create\"/><compareToSourcePath value=\"fhir:Patient/fhir:name/fhir:given/@value\"/><path value=\"fhir:Patient/fhir:name/fhir:given/@value\"/><sourceId value=\"fixture-patient-read\"/><warningOnly value=\"false\"/></assert></action><action><assert><description value=\"Confirm that the returned resource contains the expected retained elements and values. Warning only to provide users with reviewable results.\"/><minimumId value=\"fixture-patient-minimum\"/><warningOnly value=\"true\"/></assert></action></test><teardown><action><operation><type><system value=\"http://terminology.hl7.org/CodeSystem/testscript-operation-codes\"/><code value=\"delete\"/></type><resource value=\"Patient\"/><description value=\"Delete the patient resource on the test server using the id from fixture-patient-create.\"/><encodeRequestUrl value=\"true\"/><targetId value=\"fixture-patient-create\"/></operation></action></teardown></TestScript>"}}}}},"description":"create TestScript resource.","responses":{"200":{"description":"successful operation","content":{"application/fhir+json":{"schema":{"type":"object","items":{"$ref":"#/components/schemas/FHIR-XML-RESOURCE"}},"examples":{"json-example":{"value":{"resourceType":"TestScript","id":"4bcf2502-4241-41dd-b819-b49cb82e934b","url":"http://hl7.org/fhir/TestScript/testscript-example","identifier":{"system":"urn:ietf:rfc:3986","value":"urn:oid:1.3.6.1.4.1.21367.2005.3.7.9876"},"version":"1.0","name":"TestScript Example","status":"draft","experimental":true,"date":"2017-01-18T08:00:00+08:00","publisher":"HL7","contact":[{"name":"Support","telecom":[{"system":"email","value":"support@HL7.org","use":"work"}]}],"description":"TestScript example resource with setup to delete if present and create a new instance of a Patient; and single test definition to read the created Patient with various asserts.","useContext":[{"code":{"system":"http://terminology.hl7.org/CodeSystem/usage-context-type","code":"focus"},"valueCodeableConcept":{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/variant-state","code":"positive"}]}}],"jurisdiction":[{"coding":[{"system":"urn:iso:std:iso:3166","code":"US","display":"United States of America (the)"}]}],"purpose":"Patient Conditional Create (Update), Read and Delete Operations","copyright":"© HL7.org 2011+","metadata":{"link":[{"url":"http://hl7.org/fhir/patient.html","description":"Demographics and other administrative information about an individual or animal receiving care or other health-related services."}],"capability":[{"required":true,"validated":false,"description":"Patient Update, Read and Delete Operations","link":["http://hl7.org/fhir/http.html#delete","http://hl7.org/fhir/http.html#read","http://hl7.org/fhir/http.html#update"],"capabilities":"CapabilityStatement/example"}]},"fixture":[{"autocreate":false,"autodelete":false,"resource":{"reference":"Patient/example","display":"Peter Chalmers"}},{"autocreate":false,"autodelete":false,"resource":{"reference":"Patient/example","display":"Peter Chalmers (minimum)"}}],"profile":[{"reference":"http://hl7.org/fhir/StructureDefinition/Patient"}],"variable":[{"name":"createResourceId","path":"Patient/id","sourceId":"fixture-patient-create"}],"setup":{"action":[{"operation":{"type":{"system":"http://terminology.hl7.org/CodeSystem/testscript-operation-codes","code":"delete"},"resource":"Patient","label":"SetupDeletePatient","description":"Execute a delete operation to insure the patient does not exist on the server.","accept":"json","encodeRequestUrl":true,"params":"/${createResourceId}"}},{"assert":{"description":"Confirm that the returned HTTP status is 200(OK) or 204(No Content).","direction":"response","operator":"in","responseCode":"200,204","warningOnly":false}},{"operation":{"type":{"system":"http://terminology.hl7.org/CodeSystem/testscript-operation-codes","code":"update"},"resource":"Patient","label":"SetupCreatePatient","description":"Create patient resource on test server using the contents of fixture-patient-create","accept":"json","contentType":"json","encodeRequestUrl":true,"params":"/${createResourceId}","sourceId":"fixture-patient-create"}},{"assert":{"description":"Confirm that the returned HTTP status is 201(Created).","direction":"response","responseCode":"201","warningOnly":false}},{"operation":{"type":{"system":"http://terminology.hl7.org/CodeSystem/testscript-operation-codes","code":"read"},"resource":"Patient","description":"Read the created patient resource on the test server using the id from fixture-patient-create. Verify contents.","encodeRequestUrl":true,"targetId":"fixture-patient-create"}},{"assert":{"description":"Confirm that the returned HTTP status is 200(OK).","direction":"response","response":"okay","warningOnly":false}},{"assert":{"description":"Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit compareToSourceId reference to fixture-patient-create used to create the Patient.","compareToSourceId":"fixture-patient-create","compareToSourceExpression":"Patient.name.first().family","operator":"equals","warningOnly":false}}]},"test":[{"name":"Read Patient","description":"Read a Patient and validate response.","action":[{"operation":{"type":{"system":"http://terminology.hl7.org/CodeSystem/testscript-operation-codes","code":"read"},"resource":"Patient","description":"Read the patient resource on the test server using the id from fixture-patient-create. Prevent URL encoding of the request.","encodeRequestUrl":false,"responseId":"fixture-patient-read","targetId":"fixture-patient-create"}},{"assert":{"label":"01-ReadPatientOK","description":"Confirm that the returned HTTP status is 200(OK).","direction":"response","response":"okay","warningOnly":false}},{"assert":{"description":"Confirm that the returned HTTP Header Last-Modified is present. Warning only as the server might not support versioning.","direction":"response","headerField":"Last-Modified","operator":"notEmpty","warningOnly":true}},{"assert":{"description":"Confirm that the returned resource type is Patient.","resource":"Patient","warningOnly":false}},{"assert":{"description":"Confirm that the returned Patient conforms to the base FHIR specification.","validateProfileId":"patient-profile","warningOnly":false}},{"assert":{"description":"Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit sourceId reference to read responseId fixture.","operator":"equals","path":"fhir:Patient/fhir:name/fhir:family/@value","sourceId":"fixture-patient-read","value":"Chalmers","warningOnly":false}},{"assert":{"description":"Confirm that the returned Patient contains the expected given name 'Peter'. Uses explicit sourceId reference to read responseId fixture.","operator":"equals","path":"fhir:Patient/fhir:name/fhir:given/@value","sourceId":"fixture-patient-read","value":"Peter","warningOnly":false}},{"assert":{"description":"Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit compareToSourceId reference to fixture-patient-create used to create the Patient and implicit reference to read response payload.","compareToSourceId":"fixture-patient-create","compareToSourcePath":"fhir:Patient/fhir:name/fhir:family/@value","operator":"equals","path":"fhir:Patient/fhir:name/fhir:family/@value","warningOnly":false}},{"assert":{"description":"Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit compareToSourceId reference to fixture-patient-create used to create the Patient and explicit reference to read response payload and default operator of 'equals'.","compareToSourceId":"fixture-patient-create","compareToSourcePath":"fhir:Patient/fhir:name/fhir:given/@value","path":"fhir:Patient/fhir:name/fhir:given/@value","sourceId":"fixture-patient-read","warningOnly":false}},{"assert":{"description":"Confirm that the returned resource contains the expected retained elements and values. Warning only to provide users with reviewable results.","minimumId":"fixture-patient-minimum","warningOnly":true}}]}],"teardown":{"action":[{"operation":{"type":{"system":"http://terminology.hl7.org/CodeSystem/testscript-operation-codes","code":"delete"},"resource":"Patient","description":"Delete the patient resource on the test server using the id from fixture-patient-create.","encodeRequestUrl":true,"targetId":"fixture-patient-create"}}]},"meta":{"versionId":"1","lastUpdated":"2022-02-13T22:30:20.023+08:00"}}}}},"application/fhir+xml":{"schema":{"type":"object","items":{"$ref":"#/components/schemas/FHIR-XML-RESOURCE"},"xml":{"name":"TestScript"}},"examples":{"xml-example":{"value":"<?xml version=\"1.0\" encoding=\"UTF-8\"?><TestScript xmlns=\"http://hl7.org/fhir\"><id value=\"69a560f7-2341-453d-8dd6-57b9561e112e\"/><meta><versionId value=\"1\"/><lastUpdated value=\"2022-02-17T17:34:56.687+08:00\"/></meta><url value=\"http://hl7.org/fhir/TestScript/testscript-example\"/><identifier><system value=\"urn:ietf:rfc:3986\"/><value value=\"urn:oid:1.3.6.1.4.1.21367.2005.3.7.9876\"/></identifier><version value=\"1.0\"/><name value=\"TestScript Example\"/><status value=\"draft\"/><experimental value=\"true\"/><date value=\"2017-01-18T08:00:00+08:00\"/><publisher value=\"HL7\"/><contact><name value=\"Support\"/><telecom><system value=\"email\"/><value value=\"support@HL7.org\"/><use value=\"work\"/></telecom></contact><description value=\"TestScript example resource with setup to delete if present and create a new instance of a Patient; and single test definition to read the created Patient with various asserts.\"/><useContext><code><system value=\"http://terminology.hl7.org/CodeSystem/usage-context-type\"/><code value=\"focus\"/></code><valueCodeableConcept><coding><system value=\"http://terminology.hl7.org/CodeSystem/variant-state\"/><code value=\"positive\"/></coding></valueCodeableConcept></useContext><jurisdiction><coding><system value=\"urn:iso:std:iso:3166\"/><code value=\"US\"/><display value=\"United States of America (the)\"/></coding></jurisdiction><purpose value=\"Patient Conditional Create (Update), Read and Delete Operations\"/><copyright value=\"© HL7.org 2011+\"/><metadata><link><url value=\"http://hl7.org/fhir/patient.html\"/><description value=\"Demographics and other administrative information about an individual or animal receiving care or other health-related services.\"/></link><capability><required value=\"true\"/><validated value=\"false\"/><description value=\"Patient Update, Read and Delete Operations\"/><link value=\"http://hl7.org/fhir/http.html#delete\"/><link value=\"http://hl7.org/fhir/http.html#read\"/><link value=\"http://hl7.org/fhir/http.html#update\"/><capabilities value=\"CapabilityStatement/example\"/></capability></metadata><fixture><autocreate value=\"false\"/><autodelete value=\"false\"/><resource><reference value=\"Patient/example\"/><display value=\"Peter Chalmers\"/></resource></fixture><fixture><autocreate value=\"false\"/><autodelete value=\"false\"/><resource><reference value=\"Patient/example\"/><display value=\"Peter Chalmers (minimum)\"/></resource></fixture><profile><reference value=\"http://hl7.org/fhir/StructureDefinition/Patient\"/></profile><variable><name value=\"createResourceId\"/><path value=\"Patient/id\"/><sourceId value=\"fixture-patient-create\"/></variable><setup><action><operation><type><system value=\"http://terminology.hl7.org/CodeSystem/testscript-operation-codes\"/><code value=\"delete\"/></type><resource value=\"Patient\"/><label value=\"SetupDeletePatient\"/><description value=\"Execute a delete operation to insure the patient does not exist on the server.\"/><accept value=\"json\"/><encodeRequestUrl value=\"true\"/><params value=\"/${createResourceId}\"/></operation></action><action><assert><description value=\"Confirm that the returned HTTP status is 200(OK) or 204(No Content).\"/><direction value=\"response\"/><operator value=\"in\"/><responseCode value=\"200,204\"/><warningOnly value=\"false\"/></assert></action><action><operation><type><system value=\"http://terminology.hl7.org/CodeSystem/testscript-operation-codes\"/><code value=\"update\"/></type><resource value=\"Patient\"/><label value=\"SetupCreatePatient\"/><description value=\"Create patient resource on test server using the contents of fixture-patient-create\"/><accept value=\"json\"/><contentType value=\"json\"/><encodeRequestUrl value=\"true\"/><params value=\"/${createResourceId}\"/><sourceId value=\"fixture-patient-create\"/></operation></action><action><assert><description value=\"Confirm that the returned HTTP status is 201(Created).\"/><direction value=\"response\"/><responseCode value=\"201\"/><warningOnly value=\"false\"/></assert></action><action><operation><type><system value=\"http://terminology.hl7.org/CodeSystem/testscript-operation-codes\"/><code value=\"read\"/></type><resource value=\"Patient\"/><description value=\"Read the created patient resource on the test server using the id from fixture-patient-create. Verify contents.\"/><encodeRequestUrl value=\"true\"/><targetId value=\"fixture-patient-create\"/></operation></action><action><assert><description value=\"Confirm that the returned HTTP status is 200(OK).\"/><direction value=\"response\"/><response value=\"okay\"/><warningOnly value=\"false\"/></assert></action><action><assert><description value=\"Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit compareToSourceId reference to fixture-patient-create used to create the Patient.\"/><compareToSourceId value=\"fixture-patient-create\"/><compareToSourceExpression value=\"Patient.name.first().family\"/><operator value=\"equals\"/><warningOnly value=\"false\"/></assert></action></setup><test><name value=\"Read Patient\"/><description value=\"Read a Patient and validate response.\"/><action><operation><type><system value=\"http://terminology.hl7.org/CodeSystem/testscript-operation-codes\"/><code value=\"read\"/></type><resource value=\"Patient\"/><description value=\"Read the patient resource on the test server using the id from fixture-patient-create. Prevent URL encoding of the request.\"/><encodeRequestUrl value=\"false\"/><responseId value=\"fixture-patient-read\"/><targetId value=\"fixture-patient-create\"/></operation></action><action><assert><label value=\"01-ReadPatientOK\"/><description value=\"Confirm that the returned HTTP status is 200(OK).\"/><direction value=\"response\"/><response value=\"okay\"/><warningOnly value=\"false\"/></assert></action><action><assert><description value=\"Confirm that the returned HTTP Header Last-Modified is present. Warning only as the server might not support versioning.\"/><direction value=\"response\"/><headerField value=\"Last-Modified\"/><operator value=\"notEmpty\"/><warningOnly value=\"true\"/></assert></action><action><assert><description value=\"Confirm that the returned resource type is Patient.\"/><resource value=\"Patient\"/><warningOnly value=\"false\"/></assert></action><action><assert><description value=\"Confirm that the returned Patient conforms to the base FHIR specification.\"/><validateProfileId value=\"patient-profile\"/><warningOnly value=\"false\"/></assert></action><action><assert><description value=\"Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit sourceId reference to read responseId fixture.\"/><operator value=\"equals\"/><path value=\"fhir:Patient/fhir:name/fhir:family/@value\"/><sourceId value=\"fixture-patient-read\"/><value value=\"Chalmers\"/><warningOnly value=\"false\"/></assert></action><action><assert><description value=\"Confirm that the returned Patient contains the expected given name 'Peter'. Uses explicit sourceId reference to read responseId fixture.\"/><operator value=\"equals\"/><path value=\"fhir:Patient/fhir:name/fhir:given/@value\"/><sourceId value=\"fixture-patient-read\"/><value value=\"Peter\"/><warningOnly value=\"false\"/></assert></action><action><assert><description value=\"Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit compareToSourceId reference to fixture-patient-create used to create the Patient and implicit reference to read response payload.\"/><compareToSourceId value=\"fixture-patient-create\"/><compareToSourcePath value=\"fhir:Patient/fhir:name/fhir:family/@value\"/><operator value=\"equals\"/><path value=\"fhir:Patient/fhir:name/fhir:family/@value\"/><warningOnly value=\"false\"/></assert></action><action><assert><description value=\"Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit compareToSourceId reference to fixture-patient-create used to create the Patient and explicit reference to read response payload and default operator of 'equals'.\"/><compareToSourceId value=\"fixture-patient-create\"/><compareToSourcePath value=\"fhir:Patient/fhir:name/fhir:given/@value\"/><path value=\"fhir:Patient/fhir:name/fhir:given/@value\"/><sourceId value=\"fixture-patient-read\"/><warningOnly value=\"false\"/></assert></action><action><assert><description value=\"Confirm that the returned resource contains the expected retained elements and values. Warning only to provide users with reviewable results.\"/><minimumId value=\"fixture-patient-minimum\"/><warningOnly value=\"true\"/></assert></action></test><teardown><action><operation><type><system value=\"http://terminology.hl7.org/CodeSystem/testscript-operation-codes\"/><code value=\"delete\"/></type><resource value=\"Patient\"/><description value=\"Delete the patient resource on the test server using the id from fixture-patient-create.\"/><encodeRequestUrl value=\"true\"/><targetId value=\"fixture-patient-create\"/></operation></action></teardown></TestScript>"}}}}},"400":{"description":"error","content":{"application/fhir+json":{"schema":{"type":"object","items":{"$ref":"#/components/schemas/FHIR-XML-RESOURCE"}},"examples":{"Bad-Request-Response":{"value":{"resourceType":"OperationOutcome","issue":[{"severity":"error","code":"exception","diagnostics":"validation error, path `resourceType` is required"}]}}}},"application/fhir+xml":{"schema":{"type":"object","items":{"$ref":"#/components/schemas/FHIR-XML-RESOURCE"},"xml":{"name":"OperationOutcome"}},"examples":{"Bad-Request-Response":{"value":"\n<OperationOutcome xmlns='http://hl7.org/fhir'>\n<issue>\n    <severity value='error'/>\n    <code value='exception'/>\n    <diagnostics value='validation error, path `resourceType` is required'/>\n</issue>\n</OperationOutcome>"}}}}}},"x-codeSamples":[{"lang":"Shell","source":"#example from: https://chinlinlee.github.io/Burni/assets/FHIR/fhir-resource-examples/testscript-example.json\ncurl --location --request POST 'http://burni.example.com/fhir/TestScript \\' \n--header 'Content-Type: application/fhir+json' \\\n--data-raw '{\"resourceType\":\"TestScript\",\"id\":\"4bcf2502-4241-41dd-b819-b49cb82e934b\",\"url\":\"http://hl7.org/fhir/TestScript/testscript-example\",\"identifier\":{\"system\":\"urn:ietf:rfc:3986\",\"value\":\"urn:oid:1.3.6.1.4.1.21367.2005.3.7.9876\"},\"version\":\"1.0\",\"name\":\"TestScript Example\",\"status\":\"draft\",\"experimental\":true,\"date\":\"2017-01-18T08:00:00+08:00\",\"publisher\":\"HL7\",\"contact\":[{\"name\":\"Support\",\"telecom\":[{\"system\":\"email\",\"value\":\"support@HL7.org\",\"use\":\"work\"}]}],\"description\":\"TestScript example resource with setup to delete if present and create a new instance of a Patient; and single test definition to read the created Patient with various asserts.\",\"useContext\":[{\"code\":{\"system\":\"http://terminology.hl7.org/CodeSystem/usage-context-type\",\"code\":\"focus\"},\"valueCodeableConcept\":{\"coding\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/variant-state\",\"code\":\"positive\"}]}}],\"jurisdiction\":[{\"coding\":[{\"system\":\"urn:iso:std:iso:3166\",\"code\":\"US\",\"display\":\"United States of America (the)\"}]}],\"purpose\":\"Patient Conditional Create (Update), Read and Delete Operations\",\"copyright\":\"© HL7.org 2011+\",\"metadata\":{\"link\":[{\"url\":\"http://hl7.org/fhir/patient.html\",\"description\":\"Demographics and other administrative information about an individual or animal receiving care or other health-related services.\"}],\"capability\":[{\"required\":true,\"validated\":false,\"description\":\"Patient Update, Read and Delete Operations\",\"link\":[\"http://hl7.org/fhir/http.html#delete\",\"http://hl7.org/fhir/http.html#read\",\"http://hl7.org/fhir/http.html#update\"],\"capabilities\":\"CapabilityStatement/example\"}]},\"fixture\":[{\"autocreate\":false,\"autodelete\":false,\"resource\":{\"reference\":\"Patient/example\",\"display\":\"Peter Chalmers\"}},{\"autocreate\":false,\"autodelete\":false,\"resource\":{\"reference\":\"Patient/example\",\"display\":\"Peter Chalmers (minimum)\"}}],\"profile\":[{\"reference\":\"http://hl7.org/fhir/StructureDefinition/Patient\"}],\"variable\":[{\"name\":\"createResourceId\",\"path\":\"Patient/id\",\"sourceId\":\"fixture-patient-create\"}],\"setup\":{\"action\":[{\"operation\":{\"type\":{\"system\":\"http://terminology.hl7.org/CodeSystem/testscript-operation-codes\",\"code\":\"delete\"},\"resource\":\"Patient\",\"label\":\"SetupDeletePatient\",\"description\":\"Execute a delete operation to insure the patient does not exist on the server.\",\"accept\":\"json\",\"encodeRequestUrl\":true,\"params\":\"/${createResourceId}\"}},{\"assert\":{\"description\":\"Confirm that the returned HTTP status is 200(OK) or 204(No Content).\",\"direction\":\"response\",\"operator\":\"in\",\"responseCode\":\"200,204\",\"warningOnly\":false}},{\"operation\":{\"type\":{\"system\":\"http://terminology.hl7.org/CodeSystem/testscript-operation-codes\",\"code\":\"update\"},\"resource\":\"Patient\",\"label\":\"SetupCreatePatient\",\"description\":\"Create patient resource on test server using the contents of fixture-patient-create\",\"accept\":\"json\",\"contentType\":\"json\",\"encodeRequestUrl\":true,\"params\":\"/${createResourceId}\",\"sourceId\":\"fixture-patient-create\"}},{\"assert\":{\"description\":\"Confirm that the returned HTTP status is 201(Created).\",\"direction\":\"response\",\"responseCode\":\"201\",\"warningOnly\":false}},{\"operation\":{\"type\":{\"system\":\"http://terminology.hl7.org/CodeSystem/testscript-operation-codes\",\"code\":\"read\"},\"resource\":\"Patient\",\"description\":\"Read the created patient resource on the test server using the id from fixture-patient-create. Verify contents.\",\"encodeRequestUrl\":true,\"targetId\":\"fixture-patient-create\"}},{\"assert\":{\"description\":\"Confirm that the returned HTTP status is 200(OK).\",\"direction\":\"response\",\"response\":\"okay\",\"warningOnly\":false}},{\"assert\":{\"description\":\"Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit compareToSourceId reference to fixture-patient-create used to create the Patient.\",\"compareToSourceId\":\"fixture-patient-create\",\"compareToSourceExpression\":\"Patient.name.first().family\",\"operator\":\"equals\",\"warningOnly\":false}}]},\"test\":[{\"name\":\"Read Patient\",\"description\":\"Read a Patient and validate response.\",\"action\":[{\"operation\":{\"type\":{\"system\":\"http://terminology.hl7.org/CodeSystem/testscript-operation-codes\",\"code\":\"read\"},\"resource\":\"Patient\",\"description\":\"Read the patient resource on the test server using the id from fixture-patient-create. Prevent URL encoding of the request.\",\"encodeRequestUrl\":false,\"responseId\":\"fixture-patient-read\",\"targetId\":\"fixture-patient-create\"}},{\"assert\":{\"label\":\"01-ReadPatientOK\",\"description\":\"Confirm that the returned HTTP status is 200(OK).\",\"direction\":\"response\",\"response\":\"okay\",\"warningOnly\":false}},{\"assert\":{\"description\":\"Confirm that the returned HTTP Header Last-Modified is present. Warning only as the server might not support versioning.\",\"direction\":\"response\",\"headerField\":\"Last-Modified\",\"operator\":\"notEmpty\",\"warningOnly\":true}},{\"assert\":{\"description\":\"Confirm that the returned resource type is Patient.\",\"resource\":\"Patient\",\"warningOnly\":false}},{\"assert\":{\"description\":\"Confirm that the returned Patient conforms to the base FHIR specification.\",\"validateProfileId\":\"patient-profile\",\"warningOnly\":false}},{\"assert\":{\"description\":\"Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit sourceId reference to read responseId fixture.\",\"operator\":\"equals\",\"path\":\"fhir:Patient/fhir:name/fhir:family/@value\",\"sourceId\":\"fixture-patient-read\",\"value\":\"Chalmers\",\"warningOnly\":false}},{\"assert\":{\"description\":\"Confirm that the returned Patient contains the expected given name 'Peter'. Uses explicit sourceId reference to read responseId fixture.\",\"operator\":\"equals\",\"path\":\"fhir:Patient/fhir:name/fhir:given/@value\",\"sourceId\":\"fixture-patient-read\",\"value\":\"Peter\",\"warningOnly\":false}},{\"assert\":{\"description\":\"Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit compareToSourceId reference to fixture-patient-create used to create the Patient and implicit reference to read response payload.\",\"compareToSourceId\":\"fixture-patient-create\",\"compareToSourcePath\":\"fhir:Patient/fhir:name/fhir:family/@value\",\"operator\":\"equals\",\"path\":\"fhir:Patient/fhir:name/fhir:family/@value\",\"warningOnly\":false}},{\"assert\":{\"description\":\"Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit compareToSourceId reference to fixture-patient-create used to create the Patient and explicit reference to read response payload and default operator of 'equals'.\",\"compareToSourceId\":\"fixture-patient-create\",\"compareToSourcePath\":\"fhir:Patient/fhir:name/fhir:given/@value\",\"path\":\"fhir:Patient/fhir:name/fhir:given/@value\",\"sourceId\":\"fixture-patient-read\",\"warningOnly\":false}},{\"assert\":{\"description\":\"Confirm that the returned resource contains the expected retained elements and values. Warning only to provide users with reviewable results.\",\"minimumId\":\"fixture-patient-minimum\",\"warningOnly\":true}}]}],\"teardown\":{\"action\":[{\"operation\":{\"type\":{\"system\":\"http://terminology.hl7.org/CodeSystem/testscript-operation-codes\",\"code\":\"delete\"},\"resource\":\"Patient\",\"description\":\"Delete the patient resource on the test server using the id from fixture-patient-create.\",\"encodeRequestUrl\":true,\"targetId\":\"fixture-patient-create\"}}]},\"meta\":{\"versionId\":\"1\",\"lastUpdated\":\"2022-02-13T22:30:20.023+08:00\"}}'","label":"cURL"},{"lang":"JavaScript","source":" //example from: https://chinlinlee.github.io/Burni/assets/FHIR/fhir-resource-examples/testscript-example.json\nconst axios = require('axios');\nconst data = {\"resourceType\":\"TestScript\",\"id\":\"4bcf2502-4241-41dd-b819-b49cb82e934b\",\"url\":\"http://hl7.org/fhir/TestScript/testscript-example\",\"identifier\":{\"system\":\"urn:ietf:rfc:3986\",\"value\":\"urn:oid:1.3.6.1.4.1.21367.2005.3.7.9876\"},\"version\":\"1.0\",\"name\":\"TestScript Example\",\"status\":\"draft\",\"experimental\":true,\"date\":\"2017-01-18T08:00:00+08:00\",\"publisher\":\"HL7\",\"contact\":[{\"name\":\"Support\",\"telecom\":[{\"system\":\"email\",\"value\":\"support@HL7.org\",\"use\":\"work\"}]}],\"description\":\"TestScript example resource with setup to delete if present and create a new instance of a Patient; and single test definition to read the created Patient with various asserts.\",\"useContext\":[{\"code\":{\"system\":\"http://terminology.hl7.org/CodeSystem/usage-context-type\",\"code\":\"focus\"},\"valueCodeableConcept\":{\"coding\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/variant-state\",\"code\":\"positive\"}]}}],\"jurisdiction\":[{\"coding\":[{\"system\":\"urn:iso:std:iso:3166\",\"code\":\"US\",\"display\":\"United States of America (the)\"}]}],\"purpose\":\"Patient Conditional Create (Update), Read and Delete Operations\",\"copyright\":\"© HL7.org 2011+\",\"metadata\":{\"link\":[{\"url\":\"http://hl7.org/fhir/patient.html\",\"description\":\"Demographics and other administrative information about an individual or animal receiving care or other health-related services.\"}],\"capability\":[{\"required\":true,\"validated\":false,\"description\":\"Patient Update, Read and Delete Operations\",\"link\":[\"http://hl7.org/fhir/http.html#delete\",\"http://hl7.org/fhir/http.html#read\",\"http://hl7.org/fhir/http.html#update\"],\"capabilities\":\"CapabilityStatement/example\"}]},\"fixture\":[{\"autocreate\":false,\"autodelete\":false,\"resource\":{\"reference\":\"Patient/example\",\"display\":\"Peter Chalmers\"}},{\"autocreate\":false,\"autodelete\":false,\"resource\":{\"reference\":\"Patient/example\",\"display\":\"Peter Chalmers (minimum)\"}}],\"profile\":[{\"reference\":\"http://hl7.org/fhir/StructureDefinition/Patient\"}],\"variable\":[{\"name\":\"createResourceId\",\"path\":\"Patient/id\",\"sourceId\":\"fixture-patient-create\"}],\"setup\":{\"action\":[{\"operation\":{\"type\":{\"system\":\"http://terminology.hl7.org/CodeSystem/testscript-operation-codes\",\"code\":\"delete\"},\"resource\":\"Patient\",\"label\":\"SetupDeletePatient\",\"description\":\"Execute a delete operation to insure the patient does not exist on the server.\",\"accept\":\"json\",\"encodeRequestUrl\":true,\"params\":\"/${createResourceId}\"}},{\"assert\":{\"description\":\"Confirm that the returned HTTP status is 200(OK) or 204(No Content).\",\"direction\":\"response\",\"operator\":\"in\",\"responseCode\":\"200,204\",\"warningOnly\":false}},{\"operation\":{\"type\":{\"system\":\"http://terminology.hl7.org/CodeSystem/testscript-operation-codes\",\"code\":\"update\"},\"resource\":\"Patient\",\"label\":\"SetupCreatePatient\",\"description\":\"Create patient resource on test server using the contents of fixture-patient-create\",\"accept\":\"json\",\"contentType\":\"json\",\"encodeRequestUrl\":true,\"params\":\"/${createResourceId}\",\"sourceId\":\"fixture-patient-create\"}},{\"assert\":{\"description\":\"Confirm that the returned HTTP status is 201(Created).\",\"direction\":\"response\",\"responseCode\":\"201\",\"warningOnly\":false}},{\"operation\":{\"type\":{\"system\":\"http://terminology.hl7.org/CodeSystem/testscript-operation-codes\",\"code\":\"read\"},\"resource\":\"Patient\",\"description\":\"Read the created patient resource on the test server using the id from fixture-patient-create. Verify contents.\",\"encodeRequestUrl\":true,\"targetId\":\"fixture-patient-create\"}},{\"assert\":{\"description\":\"Confirm that the returned HTTP status is 200(OK).\",\"direction\":\"response\",\"response\":\"okay\",\"warningOnly\":false}},{\"assert\":{\"description\":\"Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit compareToSourceId reference to fixture-patient-create used to create the Patient.\",\"compareToSourceId\":\"fixture-patient-create\",\"compareToSourceExpression\":\"Patient.name.first().family\",\"operator\":\"equals\",\"warningOnly\":false}}]},\"test\":[{\"name\":\"Read Patient\",\"description\":\"Read a Patient and validate response.\",\"action\":[{\"operation\":{\"type\":{\"system\":\"http://terminology.hl7.org/CodeSystem/testscript-operation-codes\",\"code\":\"read\"},\"resource\":\"Patient\",\"description\":\"Read the patient resource on the test server using the id from fixture-patient-create. Prevent URL encoding of the request.\",\"encodeRequestUrl\":false,\"responseId\":\"fixture-patient-read\",\"targetId\":\"fixture-patient-create\"}},{\"assert\":{\"label\":\"01-ReadPatientOK\",\"description\":\"Confirm that the returned HTTP status is 200(OK).\",\"direction\":\"response\",\"response\":\"okay\",\"warningOnly\":false}},{\"assert\":{\"description\":\"Confirm that the returned HTTP Header Last-Modified is present. Warning only as the server might not support versioning.\",\"direction\":\"response\",\"headerField\":\"Last-Modified\",\"operator\":\"notEmpty\",\"warningOnly\":true}},{\"assert\":{\"description\":\"Confirm that the returned resource type is Patient.\",\"resource\":\"Patient\",\"warningOnly\":false}},{\"assert\":{\"description\":\"Confirm that the returned Patient conforms to the base FHIR specification.\",\"validateProfileId\":\"patient-profile\",\"warningOnly\":false}},{\"assert\":{\"description\":\"Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit sourceId reference to read responseId fixture.\",\"operator\":\"equals\",\"path\":\"fhir:Patient/fhir:name/fhir:family/@value\",\"sourceId\":\"fixture-patient-read\",\"value\":\"Chalmers\",\"warningOnly\":false}},{\"assert\":{\"description\":\"Confirm that the returned Patient contains the expected given name 'Peter'. Uses explicit sourceId reference to read responseId fixture.\",\"operator\":\"equals\",\"path\":\"fhir:Patient/fhir:name/fhir:given/@value\",\"sourceId\":\"fixture-patient-read\",\"value\":\"Peter\",\"warningOnly\":false}},{\"assert\":{\"description\":\"Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit compareToSourceId reference to fixture-patient-create used to create the Patient and implicit reference to read response payload.\",\"compareToSourceId\":\"fixture-patient-create\",\"compareToSourcePath\":\"fhir:Patient/fhir:name/fhir:family/@value\",\"operator\":\"equals\",\"path\":\"fhir:Patient/fhir:name/fhir:family/@value\",\"warningOnly\":false}},{\"assert\":{\"description\":\"Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit compareToSourceId reference to fixture-patient-create used to create the Patient and explicit reference to read response payload and default operator of 'equals'.\",\"compareToSourceId\":\"fixture-patient-create\",\"compareToSourcePath\":\"fhir:Patient/fhir:name/fhir:given/@value\",\"path\":\"fhir:Patient/fhir:name/fhir:given/@value\",\"sourceId\":\"fixture-patient-read\",\"warningOnly\":false}},{\"assert\":{\"description\":\"Confirm that the returned resource contains the expected retained elements and values. Warning only to provide users with reviewable results.\",\"minimumId\":\"fixture-patient-minimum\",\"warningOnly\":true}}]}],\"teardown\":{\"action\":[{\"operation\":{\"type\":{\"system\":\"http://terminology.hl7.org/CodeSystem/testscript-operation-codes\",\"code\":\"delete\"},\"resource\":\"Patient\",\"description\":\"Delete the patient resource on the test server using the id from fixture-patient-create.\",\"encodeRequestUrl\":true,\"targetId\":\"fixture-patient-create\"}}]},\"meta\":{\"versionId\":\"1\",\"lastUpdated\":\"2022-02-13T22:30:20.023+08:00\"}}\nconst config = {\n    method: 'post',\n    url: 'http://burni.example.com/fhir/TestScript',\n    headers: { \n        'Content-Type': 'application/fhir+json'\n    },\n    data: data\n};\n\naxios(config)\n.then(function (response) {\n    console.log(JSON.stringify(response.data));\n})\n.catch(function (error) {\n    console.log(error);\n});","label":"javascript Axios"}]}},"/fhir/TestScript/{id}":{"delete":{"operationId":"deleteTestScript","tags":["TestScript"],"summary":"delete TestScript resource by id.","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"},"description":"Resource ID in server"}],"responses":{"200":{"description":"successful operation","content":{"application/fhir+json":{"schema":{"type":"object","items":{"$ref":"#/components/schemas/FHIR-XML-RESOURCE"}},"examples":{"Success-Response":{"value":{"resourceType":"OperationOutcome","issue":[{"severity":"information","code":"informational","diagnostics":"delete TestScript/4bcf2502-4241-41dd-b819-b49cb82e934b successfully"}]}}}},"application/fhir+xml":{"schema":{"type":"object","items":{"$ref":"#/components/schemas/FHIR-XML-RESOURCE"},"xml":{"name":"OperationOutcome"}},"examples":{"Success-Response-XML":{"value":"<OperationOutcome xmlns='http://hl7.org/fhir'>\n    <issue>\n    <severity value='information'/>\n    <code value='informational'/>\n    <diagnostics value='delete TestScript/4bcf2502-4241-41dd-b819-b49cb82e934b successfully'/>\n    </issue>\n</OperationOutcome>"}}}}},"404":{"description":"error","content":{"application/fhir+json":{"schema":{"type":"object","items":{"$ref":"#/components/schemas/FHIR-XML-RESOURCE"}},"examples":{"Not-Found-Response":{"value":{"resourceType":"OperationOutcome","issue":[{"severity":"error","code":"exception","diagnostics":"The id->4bcf2502-4241-41dd-b819-b49cb82e934b not found in TestScript resource"}]}}}},"application/fhir+xml":{"schema":{"type":"object","items":{"$ref":"#/components/schemas/FHIR-XML-RESOURCE"},"xml":{"name":"OperationOutcome"}},"examples":{"Not-Found-Response-XML":{"value":"<OperationOutcome xmlns='http://hl7.org/fhir'>\n    <issue>\n    <severity value='error'/>\n    <code value='not-found'/>\n    <diagnostics value='The id-&gt;4bcf2502-4241-41dd-b819-b49cb82e934b  not found in TestScript resource'/>\n    </issue>\n</OperationOutcome>"}}}}}},"x-codeSamples":[{"lang":"Shell","source":"#example from: https://chinlinlee.github.io/Burni/assets/FHIR/fhir-resource-examples/testscript-example.json\ncurl --location --request DELETE 'http://burni.example.com/fhir/TestScript/4bcf2502-4241-41dd-b819-b49cb82e934b'","label":"cURL"},{"lang":"JavaScript","source":" //example from: https://chinlinlee.github.io/Burni/assets/FHIR/fhir-resource-examples/testscript-example.json\nconst axios = require('axios');\nconst config = {\n    method: 'delete',\n    url: 'http://burni.example.com/fhir/TestScript/4bcf2502-4241-41dd-b819-b49cb82e934b'\n};\n\naxios(config)\n.then(function (response) {\n    console.log(JSON.stringify(response.data));\n})\n.catch(function (error) {\n    console.log(error);\n});","label":"javascript Axios"}]},"get":{"operationId":"readTestScript","tags":["TestScript"],"summary":"read TestScript resource by id.","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"},"description":"Resource ID in server"}],"responses":{"200":{"description":"successful operation","content":{"application/fhir+json":{"schema":{"type":"object","items":{"$ref":"#/components/schemas/FHIR-XML-RESOURCE"}},"examples":{"Success-Response":{"value":{"resourceType":"TestScript","id":"4bcf2502-4241-41dd-b819-b49cb82e934b","url":"http://hl7.org/fhir/TestScript/testscript-example","identifier":{"system":"urn:ietf:rfc:3986","value":"urn:oid:1.3.6.1.4.1.21367.2005.3.7.9876"},"version":"1.0","name":"TestScript Example","status":"draft","experimental":true,"date":"2017-01-18T08:00:00+08:00","publisher":"HL7","contact":[{"name":"Support","telecom":[{"system":"email","value":"support@HL7.org","use":"work"}]}],"description":"TestScript example resource with setup to delete if present and create a new instance of a Patient; and single test definition to read the created Patient with various asserts.","useContext":[{"code":{"system":"http://terminology.hl7.org/CodeSystem/usage-context-type","code":"focus"},"valueCodeableConcept":{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/variant-state","code":"positive"}]}}],"jurisdiction":[{"coding":[{"system":"urn:iso:std:iso:3166","code":"US","display":"United States of America (the)"}]}],"purpose":"Patient Conditional Create (Update), Read and Delete Operations","copyright":"© HL7.org 2011+","metadata":{"link":[{"url":"http://hl7.org/fhir/patient.html","description":"Demographics and other administrative information about an individual or animal receiving care or other health-related services."}],"capability":[{"required":true,"validated":false,"description":"Patient Update, Read and Delete Operations","link":["http://hl7.org/fhir/http.html#delete","http://hl7.org/fhir/http.html#read","http://hl7.org/fhir/http.html#update"],"capabilities":"CapabilityStatement/example"}]},"fixture":[{"autocreate":false,"autodelete":false,"resource":{"reference":"Patient/example","display":"Peter Chalmers"}},{"autocreate":false,"autodelete":false,"resource":{"reference":"Patient/example","display":"Peter Chalmers (minimum)"}}],"profile":[{"reference":"http://hl7.org/fhir/StructureDefinition/Patient"}],"variable":[{"name":"createResourceId","path":"Patient/id","sourceId":"fixture-patient-create"}],"setup":{"action":[{"operation":{"type":{"system":"http://terminology.hl7.org/CodeSystem/testscript-operation-codes","code":"delete"},"resource":"Patient","label":"SetupDeletePatient","description":"Execute a delete operation to insure the patient does not exist on the server.","accept":"json","encodeRequestUrl":true,"params":"/${createResourceId}"}},{"assert":{"description":"Confirm that the returned HTTP status is 200(OK) or 204(No Content).","direction":"response","operator":"in","responseCode":"200,204","warningOnly":false}},{"operation":{"type":{"system":"http://terminology.hl7.org/CodeSystem/testscript-operation-codes","code":"update"},"resource":"Patient","label":"SetupCreatePatient","description":"Create patient resource on test server using the contents of fixture-patient-create","accept":"json","contentType":"json","encodeRequestUrl":true,"params":"/${createResourceId}","sourceId":"fixture-patient-create"}},{"assert":{"description":"Confirm that the returned HTTP status is 201(Created).","direction":"response","responseCode":"201","warningOnly":false}},{"operation":{"type":{"system":"http://terminology.hl7.org/CodeSystem/testscript-operation-codes","code":"read"},"resource":"Patient","description":"Read the created patient resource on the test server using the id from fixture-patient-create. Verify contents.","encodeRequestUrl":true,"targetId":"fixture-patient-create"}},{"assert":{"description":"Confirm that the returned HTTP status is 200(OK).","direction":"response","response":"okay","warningOnly":false}},{"assert":{"description":"Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit compareToSourceId reference to fixture-patient-create used to create the Patient.","compareToSourceId":"fixture-patient-create","compareToSourceExpression":"Patient.name.first().family","operator":"equals","warningOnly":false}}]},"test":[{"name":"Read Patient","description":"Read a Patient and validate response.","action":[{"operation":{"type":{"system":"http://terminology.hl7.org/CodeSystem/testscript-operation-codes","code":"read"},"resource":"Patient","description":"Read the patient resource on the test server using the id from fixture-patient-create. Prevent URL encoding of the request.","encodeRequestUrl":false,"responseId":"fixture-patient-read","targetId":"fixture-patient-create"}},{"assert":{"label":"01-ReadPatientOK","description":"Confirm that the returned HTTP status is 200(OK).","direction":"response","response":"okay","warningOnly":false}},{"assert":{"description":"Confirm that the returned HTTP Header Last-Modified is present. Warning only as the server might not support versioning.","direction":"response","headerField":"Last-Modified","operator":"notEmpty","warningOnly":true}},{"assert":{"description":"Confirm that the returned resource type is Patient.","resource":"Patient","warningOnly":false}},{"assert":{"description":"Confirm that the returned Patient conforms to the base FHIR specification.","validateProfileId":"patient-profile","warningOnly":false}},{"assert":{"description":"Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit sourceId reference to read responseId fixture.","operator":"equals","path":"fhir:Patient/fhir:name/fhir:family/@value","sourceId":"fixture-patient-read","value":"Chalmers","warningOnly":false}},{"assert":{"description":"Confirm that the returned Patient contains the expected given name 'Peter'. Uses explicit sourceId reference to read responseId fixture.","operator":"equals","path":"fhir:Patient/fhir:name/fhir:given/@value","sourceId":"fixture-patient-read","value":"Peter","warningOnly":false}},{"assert":{"description":"Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit compareToSourceId reference to fixture-patient-create used to create the Patient and implicit reference to read response payload.","compareToSourceId":"fixture-patient-create","compareToSourcePath":"fhir:Patient/fhir:name/fhir:family/@value","operator":"equals","path":"fhir:Patient/fhir:name/fhir:family/@value","warningOnly":false}},{"assert":{"description":"Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit compareToSourceId reference to fixture-patient-create used to create the Patient and explicit reference to read response payload and default operator of 'equals'.","compareToSourceId":"fixture-patient-create","compareToSourcePath":"fhir:Patient/fhir:name/fhir:given/@value","path":"fhir:Patient/fhir:name/fhir:given/@value","sourceId":"fixture-patient-read","warningOnly":false}},{"assert":{"description":"Confirm that the returned resource contains the expected retained elements and values. Warning only to provide users with reviewable results.","minimumId":"fixture-patient-minimum","warningOnly":true}}]}],"teardown":{"action":[{"operation":{"type":{"system":"http://terminology.hl7.org/CodeSystem/testscript-operation-codes","code":"delete"},"resource":"Patient","description":"Delete the patient resource on the test server using the id from fixture-patient-create.","encodeRequestUrl":true,"targetId":"fixture-patient-create"}}]},"meta":{"versionId":"1","lastUpdated":"2022-02-13T22:30:20.023+08:00"}}}}},"application/fhir+xml":{"schema":{"type":"object","items":{"$ref":"#/components/schemas/FHIR-XML-RESOURCE"},"xml":{"name":"TestScript"}},"examples":{"Success-Response-XML":{"value":"<?xml version=\"1.0\" encoding=\"UTF-8\"?><TestScript xmlns=\"http://hl7.org/fhir\"><id value=\"69a560f7-2341-453d-8dd6-57b9561e112e\"/><meta><versionId value=\"1\"/><lastUpdated value=\"2022-02-17T17:34:56.687+08:00\"/></meta><url value=\"http://hl7.org/fhir/TestScript/testscript-example\"/><identifier><system value=\"urn:ietf:rfc:3986\"/><value value=\"urn:oid:1.3.6.1.4.1.21367.2005.3.7.9876\"/></identifier><version value=\"1.0\"/><name value=\"TestScript Example\"/><status value=\"draft\"/><experimental value=\"true\"/><date value=\"2017-01-18T08:00:00+08:00\"/><publisher value=\"HL7\"/><contact><name value=\"Support\"/><telecom><system value=\"email\"/><value value=\"support@HL7.org\"/><use value=\"work\"/></telecom></contact><description value=\"TestScript example resource with setup to delete if present and create a new instance of a Patient; and single test definition to read the created Patient with various asserts.\"/><useContext><code><system value=\"http://terminology.hl7.org/CodeSystem/usage-context-type\"/><code value=\"focus\"/></code><valueCodeableConcept><coding><system value=\"http://terminology.hl7.org/CodeSystem/variant-state\"/><code value=\"positive\"/></coding></valueCodeableConcept></useContext><jurisdiction><coding><system value=\"urn:iso:std:iso:3166\"/><code value=\"US\"/><display value=\"United States of America (the)\"/></coding></jurisdiction><purpose value=\"Patient Conditional Create (Update), Read and Delete Operations\"/><copyright value=\"© HL7.org 2011+\"/><metadata><link><url value=\"http://hl7.org/fhir/patient.html\"/><description value=\"Demographics and other administrative information about an individual or animal receiving care or other health-related services.\"/></link><capability><required value=\"true\"/><validated value=\"false\"/><description value=\"Patient Update, Read and Delete Operations\"/><link value=\"http://hl7.org/fhir/http.html#delete\"/><link value=\"http://hl7.org/fhir/http.html#read\"/><link value=\"http://hl7.org/fhir/http.html#update\"/><capabilities value=\"CapabilityStatement/example\"/></capability></metadata><fixture><autocreate value=\"false\"/><autodelete value=\"false\"/><resource><reference value=\"Patient/example\"/><display value=\"Peter Chalmers\"/></resource></fixture><fixture><autocreate value=\"false\"/><autodelete value=\"false\"/><resource><reference value=\"Patient/example\"/><display value=\"Peter Chalmers (minimum)\"/></resource></fixture><profile><reference value=\"http://hl7.org/fhir/StructureDefinition/Patient\"/></profile><variable><name value=\"createResourceId\"/><path value=\"Patient/id\"/><sourceId value=\"fixture-patient-create\"/></variable><setup><action><operation><type><system value=\"http://terminology.hl7.org/CodeSystem/testscript-operation-codes\"/><code value=\"delete\"/></type><resource value=\"Patient\"/><label value=\"SetupDeletePatient\"/><description value=\"Execute a delete operation to insure the patient does not exist on the server.\"/><accept value=\"json\"/><encodeRequestUrl value=\"true\"/><params value=\"/${createResourceId}\"/></operation></action><action><assert><description value=\"Confirm that the returned HTTP status is 200(OK) or 204(No Content).\"/><direction value=\"response\"/><operator value=\"in\"/><responseCode value=\"200,204\"/><warningOnly value=\"false\"/></assert></action><action><operation><type><system value=\"http://terminology.hl7.org/CodeSystem/testscript-operation-codes\"/><code value=\"update\"/></type><resource value=\"Patient\"/><label value=\"SetupCreatePatient\"/><description value=\"Create patient resource on test server using the contents of fixture-patient-create\"/><accept value=\"json\"/><contentType value=\"json\"/><encodeRequestUrl value=\"true\"/><params value=\"/${createResourceId}\"/><sourceId value=\"fixture-patient-create\"/></operation></action><action><assert><description value=\"Confirm that the returned HTTP status is 201(Created).\"/><direction value=\"response\"/><responseCode value=\"201\"/><warningOnly value=\"false\"/></assert></action><action><operation><type><system value=\"http://terminology.hl7.org/CodeSystem/testscript-operation-codes\"/><code value=\"read\"/></type><resource value=\"Patient\"/><description value=\"Read the created patient resource on the test server using the id from fixture-patient-create. Verify contents.\"/><encodeRequestUrl value=\"true\"/><targetId value=\"fixture-patient-create\"/></operation></action><action><assert><description value=\"Confirm that the returned HTTP status is 200(OK).\"/><direction value=\"response\"/><response value=\"okay\"/><warningOnly value=\"false\"/></assert></action><action><assert><description value=\"Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit compareToSourceId reference to fixture-patient-create used to create the Patient.\"/><compareToSourceId value=\"fixture-patient-create\"/><compareToSourceExpression value=\"Patient.name.first().family\"/><operator value=\"equals\"/><warningOnly value=\"false\"/></assert></action></setup><test><name value=\"Read Patient\"/><description value=\"Read a Patient and validate response.\"/><action><operation><type><system value=\"http://terminology.hl7.org/CodeSystem/testscript-operation-codes\"/><code value=\"read\"/></type><resource value=\"Patient\"/><description value=\"Read the patient resource on the test server using the id from fixture-patient-create. Prevent URL encoding of the request.\"/><encodeRequestUrl value=\"false\"/><responseId value=\"fixture-patient-read\"/><targetId value=\"fixture-patient-create\"/></operation></action><action><assert><label value=\"01-ReadPatientOK\"/><description value=\"Confirm that the returned HTTP status is 200(OK).\"/><direction value=\"response\"/><response value=\"okay\"/><warningOnly value=\"false\"/></assert></action><action><assert><description value=\"Confirm that the returned HTTP Header Last-Modified is present. Warning only as the server might not support versioning.\"/><direction value=\"response\"/><headerField value=\"Last-Modified\"/><operator value=\"notEmpty\"/><warningOnly value=\"true\"/></assert></action><action><assert><description value=\"Confirm that the returned resource type is Patient.\"/><resource value=\"Patient\"/><warningOnly value=\"false\"/></assert></action><action><assert><description value=\"Confirm that the returned Patient conforms to the base FHIR specification.\"/><validateProfileId value=\"patient-profile\"/><warningOnly value=\"false\"/></assert></action><action><assert><description value=\"Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit sourceId reference to read responseId fixture.\"/><operator value=\"equals\"/><path value=\"fhir:Patient/fhir:name/fhir:family/@value\"/><sourceId value=\"fixture-patient-read\"/><value value=\"Chalmers\"/><warningOnly value=\"false\"/></assert></action><action><assert><description value=\"Confirm that the returned Patient contains the expected given name 'Peter'. Uses explicit sourceId reference to read responseId fixture.\"/><operator value=\"equals\"/><path value=\"fhir:Patient/fhir:name/fhir:given/@value\"/><sourceId value=\"fixture-patient-read\"/><value value=\"Peter\"/><warningOnly value=\"false\"/></assert></action><action><assert><description value=\"Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit compareToSourceId reference to fixture-patient-create used to create the Patient and implicit reference to read response payload.\"/><compareToSourceId value=\"fixture-patient-create\"/><compareToSourcePath value=\"fhir:Patient/fhir:name/fhir:family/@value\"/><operator value=\"equals\"/><path value=\"fhir:Patient/fhir:name/fhir:family/@value\"/><warningOnly value=\"false\"/></assert></action><action><assert><description value=\"Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit compareToSourceId reference to fixture-patient-create used to create the Patient and explicit reference to read response payload and default operator of 'equals'.\"/><compareToSourceId value=\"fixture-patient-create\"/><compareToSourcePath value=\"fhir:Patient/fhir:name/fhir:given/@value\"/><path value=\"fhir:Patient/fhir:name/fhir:given/@value\"/><sourceId value=\"fixture-patient-read\"/><warningOnly value=\"false\"/></assert></action><action><assert><description value=\"Confirm that the returned resource contains the expected retained elements and values. Warning only to provide users with reviewable results.\"/><minimumId value=\"fixture-patient-minimum\"/><warningOnly value=\"true\"/></assert></action></test><teardown><action><operation><type><system value=\"http://terminology.hl7.org/CodeSystem/testscript-operation-codes\"/><code value=\"delete\"/></type><resource value=\"Patient\"/><description value=\"Delete the patient resource on the test server using the id from fixture-patient-create.\"/><encodeRequestUrl value=\"true\"/><targetId value=\"fixture-patient-create\"/></operation></action></teardown></TestScript>"}}}}},"404":{"description":"error","content":{"application/fhir+json":{"schema":{"type":"object","items":{"$ref":"#/components/schemas/FHIR-XML-RESOURCE"}},"examples":{"Not-Found-Response":{"value":{"resourceType":"OperationOutcome","issue":[{"severity":"error","code":"exception","diagnostics":"not found TestScript/4bcf2502-4241-41dd-b819-b49cb82e934b"}]}}}},"application/fhir+xml":{"schema":{"type":"object","items":{"$ref":"#/components/schemas/FHIR-XML-RESOURCE"},"xml":{"name":"OperationOutcome"}},"examples":{"Not-Found-Response-XML":{"value":"<OperationOutcome xmlns='http://hl7.org/fhir'>\n<issue>\n    <severity value='error'/>\n    <code value='exception'/>\n    <diagnostics value='not found TestScript/4bcf2502-4241-41dd-b819-b49cb82e934b'/>\n</issue>\n</OperationOutcome>"}}}}}},"x-codeSamples":[{"lang":"Shell","source":"#example from: https://chinlinlee.github.io/Burni/assets/FHIR/fhir-resource-examples/testscript-example.json\ncurl --location --request GET 'http://burni.example.com/fhir/TestScript/4bcf2502-4241-41dd-b819-b49cb82e934b'","label":"cURL"},{"lang":"JavaScript","source":" //example from: https://chinlinlee.github.io/Burni/assets/FHIR/fhir-resource-examples/testscript-example.json\nconst axios = require('axios');\nconst config = {\n    method: 'get',\n    url: 'http://burni.example.com/fhir/TestScript/4bcf2502-4241-41dd-b819-b49cb82e934b'\n};\n\naxios(config)\n.then(function (response) {\n    console.log(JSON.stringify(response.data));\n})\n.catch(function (error) {\n    console.log(error);\n});","label":"javascript Axios"}]},"put":{"operationId":"updateTestScript","tags":["TestScript"],"summary":"update TestScript resource.","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"},"description":"Resource ID that you want to update"}],"requestBody":{"content":{"application/fhir+json":{"schema":{"$ref":"#/components/schemas/updateTestScript"},"examples":{"json-example":{"value":{"resourceType":"TestScript","id":"testscript-example","text":{"status":"generated","div":"<div xmlns=\"http://www.w3.org/1999/xhtml\"><p><b>Generated Narrative with Details</b></p><p><b>id</b>: testscript-example</p><p><b>url</b>: <b>http://hl7.org/fhir/TestScript/testscript-example</b></p><p><b>identifier</b>: urn:oid:1.3.6.1.4.1.21367.2005.3.7.9876</p><p><b>version</b>: 1.0</p><p><b>name</b>: TestScript Example</p><p><b>status</b>: draft</p><p><b>experimental</b>: true</p><p><b>date</b>: 18/01/2017</p><p><b>publisher</b>: HL7</p><p><b>contact</b>: </p><p><b>description</b>: TestScript example resource with setup to delete if present and create a new instance of a Patient; and single test definition to read the created Patient with various asserts.</p><p><b>useContext</b>: </p><p><b>jurisdiction</b>: United States of America (the) <span>(Details : {urn:iso:std:iso:3166 code 'US' = 'United States of America', given as 'United States of America (the)'})</span></p><p><b>purpose</b>: Patient Conditional Create (Update), Read and Delete Operations</p><p><b>copyright</b>: © HL7.org 2011+</p><blockquote><p><b>metadata</b></p><h3>Links</h3><table><tr><td>-</td><td><b>Url</b></td><td><b>Description</b></td></tr><tr><td>*</td><td><a>http://hl7.org/fhir/patient.html</a></td><td>Demographics and other administrative information about an individual or animal receiving care or other health-related services.</td></tr></table><h3>Capabilities</h3><table><tr><td>-</td><td><b>Required</b></td><td><b>Validated</b></td><td><b>Description</b></td><td><b>Link</b></td><td><b>Capabilities</b></td></tr><tr><td>*</td><td>true</td><td>false</td><td>Patient Update, Read and Delete Operations</td><td><a>http://hl7.org/fhir/http.html#delete</a></td><td><a>CapabilityStatement/example</a></td></tr></table></blockquote><blockquote><p><b>fixture</b></p><p><b>autocreate</b>: false</p><p><b>autodelete</b>: false</p><p><b>resource</b>: <a>Peter Chalmers</a></p></blockquote><blockquote><p><b>fixture</b></p><p><b>autocreate</b>: false</p><p><b>autodelete</b>: false</p><p><b>resource</b>: <a>Peter Chalmers (minimum)</a></p></blockquote><p><b>profile</b>: <a>Generated Summary: url: http://hl7.org/fhir/StructureDefinition/Patient; version: 4.0.1; name: Patient; ACTIVE; date: 01/11/2019 9:29:23 AM; publisher: Health Level Seven International (Patient Administration); description: Demographics and other administrative information about an individual or animal receiving care or other health-related services.; purpose: Tracking patient is the center of the healthcare process.; 4.0.1; RESOURCE; type: Patient; baseDefinition: http://hl7.org/fhir/StructureDefinition/DomainResource; SPECIALIZATION</a></p><h3>Variables</h3><table><tr><td>-</td><td><b>Name</b></td><td><b>Path</b></td><td><b>SourceId</b></td></tr><tr><td>*</td><td>createResourceId</td><td>Patient/id</td><td>fixture-patient-create</td></tr></table><blockquote><p><b>setup</b></p><blockquote><p><b>action</b></p><h3>Operations</h3><table><tr><td>-</td><td><b>Type</b></td><td><b>Resource</b></td><td><b>Label</b></td><td><b>Description</b></td><td><b>Accept</b></td><td><b>EncodeRequestUrl</b></td><td><b>Params</b></td></tr><tr><td>*</td><td>Delete (Details: http://terminology.hl7.org/CodeSystem/testscript-operation-codes code delete = 'Delete', stated as 'null')</td><td>Patient</td><td>SetupDeletePatient</td><td>Execute a delete operation to insure the patient does not exist on the server.</td><td>json</td><td>true</td><td>/${createResourceId}</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td><td><b>Description</b></td><td><b>Direction</b></td><td><b>Operator</b></td><td><b>ResponseCode</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned HTTP status is 200(OK) or 204(No Content).</td><td>response</td><td>in</td><td>200,204</td><td>false</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Operations</h3><table><tr><td>-</td><td><b>Type</b></td><td><b>Resource</b></td><td><b>Label</b></td><td><b>Description</b></td><td><b>Accept</b></td><td><b>ContentType</b></td><td><b>EncodeRequestUrl</b></td><td><b>Params</b></td><td><b>SourceId</b></td></tr><tr><td>*</td><td>Update (Details: http://terminology.hl7.org/CodeSystem/testscript-operation-codes code update = 'Update', stated as 'null')</td><td>Patient</td><td>SetupCreatePatient</td><td>Create patient resource on test server using the contents of fixture-patient-create</td><td>json</td><td>json</td><td>true</td><td>/${createResourceId}</td><td>fixture-patient-create</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td><td><b>Description</b></td><td><b>Direction</b></td><td><b>ResponseCode</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned HTTP status is 201(Created).</td><td>response</td><td>201</td><td>false</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Operations</h3><table><tr><td>-</td><td><b>Type</b></td><td><b>Resource</b></td><td><b>Description</b></td><td><b>EncodeRequestUrl</b></td><td><b>TargetId</b></td></tr><tr><td>*</td><td>Read (Details: http://terminology.hl7.org/CodeSystem/testscript-operation-codes code read = 'Read', stated as 'null')</td><td>Patient</td><td>Read the created patient resource on the test server using the id from fixture-patient-create. Verify contents.</td><td>true</td><td>fixture-patient-create</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td><td><b>Description</b></td><td><b>Direction</b></td><td><b>Response</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned HTTP status is 200(OK).</td><td>response</td><td>okay</td><td>false</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td><td><b>Description</b></td><td><b>CompareToSourceId</b></td><td><b>CompareToSourceExpression</b></td><td><b>Operator</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit compareToSourceId reference to fixture-patient-create used to create the Patient.</td><td>fixture-patient-create</td><td>Patient.name.first().family</td><td>equals</td><td>false</td></tr></table></blockquote></blockquote><blockquote><p><b>test</b></p><p><b>name</b>: Read Patient</p><p><b>description</b>: Read a Patient and validate response.</p><blockquote><p><b>action</b></p><h3>Operations</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote></blockquote><blockquote><p><b>teardown</b></p><blockquote><p><b>action</b></p><h3>Operations</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote></blockquote></div>"},"url":"http://hl7.org/fhir/TestScript/testscript-example","identifier":{"system":"urn:ietf:rfc:3986","value":"Hn1gKPrROuYcwVa4"},"version":"1.0","name":"TestScript Example","status":"draft","experimental":true,"date":"2017-01-18","publisher":"HL7","contact":[{"name":"Jay Marks","telecom":[{"system":"email","value":"1rDO2fDbknu","use":"work"}]}],"description":"TestScript example resource with setup to delete if present and create a new instance of a Patient; and single test definition to read the created Patient with various asserts.","useContext":[{"code":{"system":"http://terminology.hl7.org/CodeSystem/usage-context-type","code":"focus"},"valueCodeableConcept":{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/variant-state","code":"positive"}]}}],"jurisdiction":[{"coding":[{"system":"urn:iso:std:iso:3166","code":"US","display":"HqmG7894arA"}]}],"purpose":"Patient Conditional Create (Update), Read and Delete Operations","copyright":"© HL7.org 2011+","metadata":{"link":[{"url":"http://hl7.org/fhir/patient.html","description":"Demographics and other administrative information about an individual or animal receiving care or other health-related services."}],"capability":[{"required":true,"validated":false,"description":"Patient Update, Read and Delete Operations","link":["http://hl7.org/fhir/http.html#delete","http://hl7.org/fhir/http.html#read","http://hl7.org/fhir/http.html#update"],"capabilities":"CapabilityStatement/example"}]},"fixture":[{"id":"fixture-patient-create","autocreate":false,"autodelete":false,"resource":{"reference":"Patient/example","display":"yNoqD3c781bhezfN"}},{"id":"fixture-patient-minimum","autocreate":false,"autodelete":false,"resource":{"reference":"Patient/example","display":"tnrFxEaVw2"}}],"profile":[{"id":"patient-profile","reference":"http://hl7.org/fhir/StructureDefinition/Patient"}],"variable":[{"name":"Michele Breitenberg","path":"Patient/id","sourceId":"fixture-patient-create"}],"setup":{"action":[{"operation":{"type":{"system":"http://terminology.hl7.org/CodeSystem/testscript-operation-codes","code":"delete"},"resource":"Patient","label":"SetupDeletePatient","description":"Execute a delete operation to insure the patient does not exist on the server.","accept":"json","encodeRequestUrl":true,"params":"/${createResourceId}"}},{"assert":{"description":"Confirm that the returned HTTP status is 200(OK) or 204(No Content).","direction":"response","operator":"in","responseCode":"200,204","warningOnly":false}},{"operation":{"type":{"system":"http://terminology.hl7.org/CodeSystem/testscript-operation-codes","code":"update"},"resource":"Patient","label":"SetupCreatePatient","description":"Create patient resource on test server using the contents of fixture-patient-create","accept":"json","contentType":"json","encodeRequestUrl":true,"params":"/${createResourceId}","sourceId":"fixture-patient-create"}},{"assert":{"description":"Confirm that the returned HTTP status is 201(Created).","direction":"response","responseCode":"201","warningOnly":false}},{"operation":{"type":{"system":"http://terminology.hl7.org/CodeSystem/testscript-operation-codes","code":"read"},"resource":"Patient","description":"Read the created patient resource on the test server using the id from fixture-patient-create. Verify contents.","encodeRequestUrl":true,"targetId":"fixture-patient-create"}},{"assert":{"description":"Confirm that the returned HTTP status is 200(OK).","direction":"response","response":"okay","warningOnly":false}},{"assert":{"description":"Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit compareToSourceId reference to fixture-patient-create used to create the Patient.","compareToSourceId":"fixture-patient-create","compareToSourceExpression":"Patient.name.first().family","operator":"equals","warningOnly":false}}]},"test":[{"id":"01-ReadPatient","name":"Nora Kohler","description":"Read a Patient and validate response.","action":[{"operation":{"type":{"system":"http://terminology.hl7.org/CodeSystem/testscript-operation-codes","code":"read"},"resource":"Patient","description":"Read the patient resource on the test server using the id from fixture-patient-create. Prevent URL encoding of the request.","encodeRequestUrl":false,"responseId":"fixture-patient-read","targetId":"fixture-patient-create"}},{"assert":{"label":"01-ReadPatientOK","description":"Confirm that the returned HTTP status is 200(OK).","direction":"response","response":"okay","warningOnly":false}},{"assert":{"description":"Confirm that the returned HTTP Header Last-Modified is present. Warning only as the server might not support versioning.","direction":"response","headerField":"Last-Modified","operator":"notEmpty","warningOnly":true}},{"assert":{"description":"Confirm that the returned resource type is Patient.","resource":"Patient","warningOnly":false}},{"assert":{"description":"Confirm that the returned Patient conforms to the base FHIR specification.","validateProfileId":"patient-profile","warningOnly":false}},{"assert":{"description":"Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit sourceId reference to read responseId fixture.","operator":"equals","path":"fhir:Patient/fhir:name/fhir:family/@value","sourceId":"fixture-patient-read","value":"jNxhvmmXEUK","warningOnly":false}},{"assert":{"description":"Confirm that the returned Patient contains the expected given name 'Peter'. Uses explicit sourceId reference to read responseId fixture.","operator":"equals","path":"fhir:Patient/fhir:name/fhir:given/@value","sourceId":"fixture-patient-read","value":"IOqzXcXNwj4ERCm","warningOnly":false}},{"assert":{"description":"Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit compareToSourceId reference to fixture-patient-create used to create the Patient and implicit reference to read response payload.","compareToSourceId":"fixture-patient-create","compareToSourcePath":"fhir:Patient/fhir:name/fhir:family/@value","operator":"equals","path":"fhir:Patient/fhir:name/fhir:family/@value","warningOnly":false}},{"assert":{"description":"Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit compareToSourceId reference to fixture-patient-create used to create the Patient and explicit reference to read response payload and default operator of 'equals'.","compareToSourceId":"fixture-patient-create","compareToSourcePath":"fhir:Patient/fhir:name/fhir:given/@value","path":"fhir:Patient/fhir:name/fhir:given/@value","sourceId":"fixture-patient-read","warningOnly":false}},{"assert":{"description":"Confirm that the returned resource contains the expected retained elements and values. Warning only to provide users with reviewable results.","minimumId":"fixture-patient-minimum","warningOnly":true}}]}],"teardown":{"action":[{"operation":{"type":{"system":"http://terminology.hl7.org/CodeSystem/testscript-operation-codes","code":"delete"},"resource":"Patient","description":"Delete the patient resource on the test server using the id from fixture-patient-create.","encodeRequestUrl":true,"targetId":"fixture-patient-create"}}]}}}}},"application/fhir+xml":{"schema":{"$ref":"#/components/schemas/updateTestScript","xml":{"name":"TestScript"}},"examples":{"xml-example":{"value":"\n<?xml version=\"1.0\" encoding=\"UTF-8\"?><TestScript xmlns=\"http://hl7.org/fhir\"><id value=\"testscript-example\"/><text><status value=\"generated\"/><div xmlns=\"http://www.w3.org/1999/xhtml\"><p><b>Generated Narrative with Details</b></p><p><b>id</b>: testscript-example</p><p><b>url</b>: <b>http://hl7.org/fhir/TestScript/testscript-example</b></p><p><b>identifier</b>: urn:oid:1.3.6.1.4.1.21367.2005.3.7.9876</p><p><b>version</b>: 1.0</p><p><b>name</b>: TestScript Example</p><p><b>status</b>: draft</p><p><b>experimental</b>: true</p><p><b>date</b>: 18/01/2017</p><p><b>publisher</b>: HL7</p><p><b>contact</b>: </p><p><b>description</b>: TestScript example resource with setup to delete if present and create a new instance of a Patient; and single test definition to read the created Patient with various asserts.</p><p><b>useContext</b>: </p><p><b>jurisdiction</b>: United States of America (the) <span>(Details : {urn:iso:std:iso:3166 code 'US' = 'United States of America', given as 'United States of America (the)'})</span></p><p><b>purpose</b>: Patient Conditional Create (Update), Read and Delete Operations</p><p><b>copyright</b>: © HL7.org 2011+</p><blockquote><p><b>metadata</b></p><h3>Links</h3><table><tr><td>-</td><td><b>Url</b></td><td><b>Description</b></td></tr><tr><td>*</td><td><a>http://hl7.org/fhir/patient.html</a></td><td>Demographics and other administrative information about an individual or animal receiving care or other health-related services.</td></tr></table><h3>Capabilities</h3><table><tr><td>-</td><td><b>Required</b></td><td><b>Validated</b></td><td><b>Description</b></td><td><b>Link</b></td><td><b>Capabilities</b></td></tr><tr><td>*</td><td>true</td><td>false</td><td>Patient Update, Read and Delete Operations</td><td><a>http://hl7.org/fhir/http.html#delete</a></td><td><a>CapabilityStatement/example</a></td></tr></table></blockquote><blockquote><p><b>fixture</b></p><p><b>autocreate</b>: false</p><p><b>autodelete</b>: false</p><p><b>resource</b>: <a>Peter Chalmers</a></p></blockquote><blockquote><p><b>fixture</b></p><p><b>autocreate</b>: false</p><p><b>autodelete</b>: false</p><p><b>resource</b>: <a>Peter Chalmers (minimum)</a></p></blockquote><p><b>profile</b>: <a>Generated Summary: url: http://hl7.org/fhir/StructureDefinition/Patient; version: 4.0.1; name: Patient; ACTIVE; date: 01/11/2019 9:29:23 AM; publisher: Health Level Seven International (Patient Administration); description: Demographics and other administrative information about an individual or animal receiving care or other health-related services.; purpose: Tracking patient is the center of the healthcare process.; 4.0.1; RESOURCE; type: Patient; baseDefinition: http://hl7.org/fhir/StructureDefinition/DomainResource; SPECIALIZATION</a></p><h3>Variables</h3><table><tr><td>-</td><td><b>Name</b></td><td><b>Path</b></td><td><b>SourceId</b></td></tr><tr><td>*</td><td>createResourceId</td><td>Patient/id</td><td>fixture-patient-create</td></tr></table><blockquote><p><b>setup</b></p><blockquote><p><b>action</b></p><h3>Operations</h3><table><tr><td>-</td><td><b>Type</b></td><td><b>Resource</b></td><td><b>Label</b></td><td><b>Description</b></td><td><b>Accept</b></td><td><b>EncodeRequestUrl</b></td><td><b>Params</b></td></tr><tr><td>*</td><td>Delete (Details: http://terminology.hl7.org/CodeSystem/testscript-operation-codes code delete = 'Delete', stated as 'null')</td><td>Patient</td><td>SetupDeletePatient</td><td>Execute a delete operation to insure the patient does not exist on the server.</td><td>json</td><td>true</td><td>/${createResourceId}</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td><td><b>Description</b></td><td><b>Direction</b></td><td><b>Operator</b></td><td><b>ResponseCode</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned HTTP status is 200(OK) or 204(No Content).</td><td>response</td><td>in</td><td>200,204</td><td>false</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Operations</h3><table><tr><td>-</td><td><b>Type</b></td><td><b>Resource</b></td><td><b>Label</b></td><td><b>Description</b></td><td><b>Accept</b></td><td><b>ContentType</b></td><td><b>EncodeRequestUrl</b></td><td><b>Params</b></td><td><b>SourceId</b></td></tr><tr><td>*</td><td>Update (Details: http://terminology.hl7.org/CodeSystem/testscript-operation-codes code update = 'Update', stated as 'null')</td><td>Patient</td><td>SetupCreatePatient</td><td>Create patient resource on test server using the contents of fixture-patient-create</td><td>json</td><td>json</td><td>true</td><td>/${createResourceId}</td><td>fixture-patient-create</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td><td><b>Description</b></td><td><b>Direction</b></td><td><b>ResponseCode</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned HTTP status is 201(Created).</td><td>response</td><td>201</td><td>false</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Operations</h3><table><tr><td>-</td><td><b>Type</b></td><td><b>Resource</b></td><td><b>Description</b></td><td><b>EncodeRequestUrl</b></td><td><b>TargetId</b></td></tr><tr><td>*</td><td>Read (Details: http://terminology.hl7.org/CodeSystem/testscript-operation-codes code read = 'Read', stated as 'null')</td><td>Patient</td><td>Read the created patient resource on the test server using the id from fixture-patient-create. Verify contents.</td><td>true</td><td>fixture-patient-create</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td><td><b>Description</b></td><td><b>Direction</b></td><td><b>Response</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned HTTP status is 200(OK).</td><td>response</td><td>okay</td><td>false</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td><td><b>Description</b></td><td><b>CompareToSourceId</b></td><td><b>CompareToSourceExpression</b></td><td><b>Operator</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit compareToSourceId reference to fixture-patient-create used to create the Patient.</td><td>fixture-patient-create</td><td>Patient.name.first().family</td><td>equals</td><td>false</td></tr></table></blockquote></blockquote><blockquote><p><b>test</b></p><p><b>name</b>: Read Patient</p><p><b>description</b>: Read a Patient and validate response.</p><blockquote><p><b>action</b></p><h3>Operations</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote></blockquote><blockquote><p><b>teardown</b></p><blockquote><p><b>action</b></p><h3>Operations</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote></blockquote></div></text><url value=\"http://hl7.org/fhir/TestScript/testscript-example\"/><identifier><system value=\"urn:ietf:rfc:3986\"/><value value=\"Hn1gKPrROuYcwVa4\"/></identifier><version value=\"1.0\"/><name value=\"TestScript Example\"/><status value=\"draft\"/><experimental value=\"true\"/><date value=\"2017-01-18\"/><publisher value=\"HL7\"/><contact><name value=\"Jay Marks\"/><telecom><system value=\"email\"/><value value=\"1rDO2fDbknu\"/><use value=\"work\"/></telecom></contact><description value=\"TestScript example resource with setup to delete if present and create a new instance of a Patient; and single test definition to read the created Patient with various asserts.\"/><useContext><code><system value=\"http://terminology.hl7.org/CodeSystem/usage-context-type\"/><code value=\"focus\"/></code><valueCodeableConcept><coding><system value=\"http://terminology.hl7.org/CodeSystem/variant-state\"/><code value=\"positive\"/></coding></valueCodeableConcept></useContext><jurisdiction><coding><system value=\"urn:iso:std:iso:3166\"/><code value=\"US\"/><display value=\"HqmG7894arA\"/></coding></jurisdiction><purpose value=\"Patient Conditional Create (Update), Read and Delete Operations\"/><copyright value=\"© HL7.org 2011+\"/><metadata><link><url value=\"http://hl7.org/fhir/patient.html\"/><description value=\"Demographics and other administrative information about an individual or animal receiving care or other health-related services.\"/></link><capability><required value=\"true\"/><validated value=\"false\"/><description value=\"Patient Update, Read and Delete Operations\"/><link value=\"http://hl7.org/fhir/http.html#delete\"/><link value=\"http://hl7.org/fhir/http.html#read\"/><link value=\"http://hl7.org/fhir/http.html#update\"/><capabilities value=\"CapabilityStatement/example\"/></capability></metadata><fixture id=\"fixture-patient-create\"><autocreate value=\"false\"/><autodelete value=\"false\"/><resource><reference value=\"Patient/example\"/><display value=\"yNoqD3c781bhezfN\"/></resource></fixture><fixture id=\"fixture-patient-minimum\"><autocreate value=\"false\"/><autodelete value=\"false\"/><resource><reference value=\"Patient/example\"/><display value=\"tnrFxEaVw2\"/></resource></fixture><profile id=\"patient-profile\"><reference value=\"http://hl7.org/fhir/StructureDefinition/Patient\"/></profile><variable><name value=\"Michele Breitenberg\"/><path value=\"Patient/id\"/><sourceId value=\"fixture-patient-create\"/></variable><setup><action><operation><type><system value=\"http://terminology.hl7.org/CodeSystem/testscript-operation-codes\"/><code value=\"delete\"/></type><resource value=\"Patient\"/><label value=\"SetupDeletePatient\"/><description value=\"Execute a delete operation to insure the patient does not exist on the server.\"/><accept value=\"json\"/><encodeRequestUrl value=\"true\"/><params value=\"/${createResourceId}\"/></operation></action><action><assert><description value=\"Confirm that the returned HTTP status is 200(OK) or 204(No Content).\"/><direction value=\"response\"/><operator value=\"in\"/><responseCode value=\"200,204\"/><warningOnly value=\"false\"/></assert></action><action><operation><type><system value=\"http://terminology.hl7.org/CodeSystem/testscript-operation-codes\"/><code value=\"update\"/></type><resource value=\"Patient\"/><label value=\"SetupCreatePatient\"/><description value=\"Create patient resource on test server using the contents of fixture-patient-create\"/><accept value=\"json\"/><contentType value=\"json\"/><encodeRequestUrl value=\"true\"/><params value=\"/${createResourceId}\"/><sourceId value=\"fixture-patient-create\"/></operation></action><action><assert><description value=\"Confirm that the returned HTTP status is 201(Created).\"/><direction value=\"response\"/><responseCode value=\"201\"/><warningOnly value=\"false\"/></assert></action><action><operation><type><system value=\"http://terminology.hl7.org/CodeSystem/testscript-operation-codes\"/><code value=\"read\"/></type><resource value=\"Patient\"/><description value=\"Read the created patient resource on the test server using the id from fixture-patient-create. Verify contents.\"/><encodeRequestUrl value=\"true\"/><targetId value=\"fixture-patient-create\"/></operation></action><action><assert><description value=\"Confirm that the returned HTTP status is 200(OK).\"/><direction value=\"response\"/><response value=\"okay\"/><warningOnly value=\"false\"/></assert></action><action><assert><description value=\"Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit compareToSourceId reference to fixture-patient-create used to create the Patient.\"/><compareToSourceId value=\"fixture-patient-create\"/><compareToSourceExpression value=\"Patient.name.first().family\"/><operator value=\"equals\"/><warningOnly value=\"false\"/></assert></action></setup><test id=\"01-ReadPatient\"><name value=\"Nora Kohler\"/><description value=\"Read a Patient and validate response.\"/><action><operation><type><system value=\"http://terminology.hl7.org/CodeSystem/testscript-operation-codes\"/><code value=\"read\"/></type><resource value=\"Patient\"/><description value=\"Read the patient resource on the test server using the id from fixture-patient-create. Prevent URL encoding of the request.\"/><encodeRequestUrl value=\"false\"/><responseId value=\"fixture-patient-read\"/><targetId value=\"fixture-patient-create\"/></operation></action><action><assert><label value=\"01-ReadPatientOK\"/><description value=\"Confirm that the returned HTTP status is 200(OK).\"/><direction value=\"response\"/><response value=\"okay\"/><warningOnly value=\"false\"/></assert></action><action><assert><description value=\"Confirm that the returned HTTP Header Last-Modified is present. Warning only as the server might not support versioning.\"/><direction value=\"response\"/><headerField value=\"Last-Modified\"/><operator value=\"notEmpty\"/><warningOnly value=\"true\"/></assert></action><action><assert><description value=\"Confirm that the returned resource type is Patient.\"/><resource value=\"Patient\"/><warningOnly value=\"false\"/></assert></action><action><assert><description value=\"Confirm that the returned Patient conforms to the base FHIR specification.\"/><validateProfileId value=\"patient-profile\"/><warningOnly value=\"false\"/></assert></action><action><assert><description value=\"Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit sourceId reference to read responseId fixture.\"/><operator value=\"equals\"/><path value=\"fhir:Patient/fhir:name/fhir:family/@value\"/><sourceId value=\"fixture-patient-read\"/><value value=\"jNxhvmmXEUK\"/><warningOnly value=\"false\"/></assert></action><action><assert><description value=\"Confirm that the returned Patient contains the expected given name 'Peter'. Uses explicit sourceId reference to read responseId fixture.\"/><operator value=\"equals\"/><path value=\"fhir:Patient/fhir:name/fhir:given/@value\"/><sourceId value=\"fixture-patient-read\"/><value value=\"IOqzXcXNwj4ERCm\"/><warningOnly value=\"false\"/></assert></action><action><assert><description value=\"Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit compareToSourceId reference to fixture-patient-create used to create the Patient and implicit reference to read response payload.\"/><compareToSourceId value=\"fixture-patient-create\"/><compareToSourcePath value=\"fhir:Patient/fhir:name/fhir:family/@value\"/><operator value=\"equals\"/><path value=\"fhir:Patient/fhir:name/fhir:family/@value\"/><warningOnly value=\"false\"/></assert></action><action><assert><description value=\"Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit compareToSourceId reference to fixture-patient-create used to create the Patient and explicit reference to read response payload and default operator of 'equals'.\"/><compareToSourceId value=\"fixture-patient-create\"/><compareToSourcePath value=\"fhir:Patient/fhir:name/fhir:given/@value\"/><path value=\"fhir:Patient/fhir:name/fhir:given/@value\"/><sourceId value=\"fixture-patient-read\"/><warningOnly value=\"false\"/></assert></action><action><assert><description value=\"Confirm that the returned resource contains the expected retained elements and values. Warning only to provide users with reviewable results.\"/><minimumId value=\"fixture-patient-minimum\"/><warningOnly value=\"true\"/></assert></action></test><teardown><action><operation><type><system value=\"http://terminology.hl7.org/CodeSystem/testscript-operation-codes\"/><code value=\"delete\"/></type><resource value=\"Patient\"/><description value=\"Delete the patient resource on the test server using the id from fixture-patient-create.\"/><encodeRequestUrl value=\"true\"/><targetId value=\"fixture-patient-create\"/></operation></action></teardown></TestScript>"}}}}},"description":"update TestScript resource.","responses":{"200":{"description":"successful operation","content":{"application/fhir+json":{"schema":{"type":"object","items":{"$ref":"#/components/schemas/FHIR-XML-RESOURCE"}},"examples":{"json-example":{"value":{"resourceType":"TestScript","id":"TestScript-example","url":"http://hl7.org/fhir/TestScript/testscript-example","identifier":{"system":"urn:ietf:rfc:3986","value":"Hn1gKPrROuYcwVa4"},"version":"1.0","name":"TestScript Example","status":"draft","experimental":true,"date":"2017-01-18T08:00:00+08:00","publisher":"HL7","contact":[{"name":"Jay Marks","telecom":[{"system":"email","value":"1rDO2fDbknu","use":"work"}]}],"description":"TestScript example resource with setup to delete if present and create a new instance of a Patient; and single test definition to read the created Patient with various asserts.","useContext":[{"code":{"system":"http://terminology.hl7.org/CodeSystem/usage-context-type","code":"focus"},"valueCodeableConcept":{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/variant-state","code":"positive"}]}}],"jurisdiction":[{"coding":[{"system":"urn:iso:std:iso:3166","code":"US","display":"HqmG7894arA"}]}],"purpose":"Patient Conditional Create (Update), Read and Delete Operations","copyright":"© HL7.org 2011+","metadata":{"link":[{"url":"http://hl7.org/fhir/patient.html","description":"Demographics and other administrative information about an individual or animal receiving care or other health-related services."}],"capability":[{"required":true,"validated":false,"description":"Patient Update, Read and Delete Operations","link":["http://hl7.org/fhir/http.html#delete","http://hl7.org/fhir/http.html#read","http://hl7.org/fhir/http.html#update"],"capabilities":"CapabilityStatement/example"}]},"fixture":[{"autocreate":false,"autodelete":false,"resource":{"reference":"Patient/example","display":"yNoqD3c781bhezfN"}},{"autocreate":false,"autodelete":false,"resource":{"reference":"Patient/example","display":"tnrFxEaVw2"}}],"profile":[{"reference":"http://hl7.org/fhir/StructureDefinition/Patient"}],"variable":[{"name":"Michele Breitenberg","path":"Patient/id","sourceId":"fixture-patient-create"}],"setup":{"action":[{"operation":{"type":{"system":"http://terminology.hl7.org/CodeSystem/testscript-operation-codes","code":"delete"},"resource":"Patient","label":"SetupDeletePatient","description":"Execute a delete operation to insure the patient does not exist on the server.","accept":"json","encodeRequestUrl":true,"params":"/${createResourceId}"}},{"assert":{"description":"Confirm that the returned HTTP status is 200(OK) or 204(No Content).","direction":"response","operator":"in","responseCode":"200,204","warningOnly":false}},{"operation":{"type":{"system":"http://terminology.hl7.org/CodeSystem/testscript-operation-codes","code":"update"},"resource":"Patient","label":"SetupCreatePatient","description":"Create patient resource on test server using the contents of fixture-patient-create","accept":"json","contentType":"json","encodeRequestUrl":true,"params":"/${createResourceId}","sourceId":"fixture-patient-create"}},{"assert":{"description":"Confirm that the returned HTTP status is 201(Created).","direction":"response","responseCode":"201","warningOnly":false}},{"operation":{"type":{"system":"http://terminology.hl7.org/CodeSystem/testscript-operation-codes","code":"read"},"resource":"Patient","description":"Read the created patient resource on the test server using the id from fixture-patient-create. Verify contents.","encodeRequestUrl":true,"targetId":"fixture-patient-create"}},{"assert":{"description":"Confirm that the returned HTTP status is 200(OK).","direction":"response","response":"okay","warningOnly":false}},{"assert":{"description":"Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit compareToSourceId reference to fixture-patient-create used to create the Patient.","compareToSourceId":"fixture-patient-create","compareToSourceExpression":"Patient.name.first().family","operator":"equals","warningOnly":false}}]},"test":[{"name":"Nora Kohler","description":"Read a Patient and validate response.","action":[{"operation":{"type":{"system":"http://terminology.hl7.org/CodeSystem/testscript-operation-codes","code":"read"},"resource":"Patient","description":"Read the patient resource on the test server using the id from fixture-patient-create. Prevent URL encoding of the request.","encodeRequestUrl":false,"responseId":"fixture-patient-read","targetId":"fixture-patient-create"}},{"assert":{"label":"01-ReadPatientOK","description":"Confirm that the returned HTTP status is 200(OK).","direction":"response","response":"okay","warningOnly":false}},{"assert":{"description":"Confirm that the returned HTTP Header Last-Modified is present. Warning only as the server might not support versioning.","direction":"response","headerField":"Last-Modified","operator":"notEmpty","warningOnly":true}},{"assert":{"description":"Confirm that the returned resource type is Patient.","resource":"Patient","warningOnly":false}},{"assert":{"description":"Confirm that the returned Patient conforms to the base FHIR specification.","validateProfileId":"patient-profile","warningOnly":false}},{"assert":{"description":"Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit sourceId reference to read responseId fixture.","operator":"equals","path":"fhir:Patient/fhir:name/fhir:family/@value","sourceId":"fixture-patient-read","value":"jNxhvmmXEUK","warningOnly":false}},{"assert":{"description":"Confirm that the returned Patient contains the expected given name 'Peter'. Uses explicit sourceId reference to read responseId fixture.","operator":"equals","path":"fhir:Patient/fhir:name/fhir:given/@value","sourceId":"fixture-patient-read","value":"IOqzXcXNwj4ERCm","warningOnly":false}},{"assert":{"description":"Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit compareToSourceId reference to fixture-patient-create used to create the Patient and implicit reference to read response payload.","compareToSourceId":"fixture-patient-create","compareToSourcePath":"fhir:Patient/fhir:name/fhir:family/@value","operator":"equals","path":"fhir:Patient/fhir:name/fhir:family/@value","warningOnly":false}},{"assert":{"description":"Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit compareToSourceId reference to fixture-patient-create used to create the Patient and explicit reference to read response payload and default operator of 'equals'.","compareToSourceId":"fixture-patient-create","compareToSourcePath":"fhir:Patient/fhir:name/fhir:given/@value","path":"fhir:Patient/fhir:name/fhir:given/@value","sourceId":"fixture-patient-read","warningOnly":false}},{"assert":{"description":"Confirm that the returned resource contains the expected retained elements and values. Warning only to provide users with reviewable results.","minimumId":"fixture-patient-minimum","warningOnly":true}}]}],"teardown":{"action":[{"operation":{"type":{"system":"http://terminology.hl7.org/CodeSystem/testscript-operation-codes","code":"delete"},"resource":"Patient","description":"Delete the patient resource on the test server using the id from fixture-patient-create.","encodeRequestUrl":true,"targetId":"fixture-patient-create"}}]},"meta":{"versionId":"20","lastUpdated":"2022-02-17T23:28:59.950+08:00"}}}}},"application/fhir+xml":{"schema":{"type":"object","items":{"$ref":"#/components/schemas/FHIR-XML-RESOURCE"},"xml":{"name":"TestScript"}},"examples":{"xml-example":{"value":"<?xml version=\"1.0\" encoding=\"UTF-8\"?><TestScript xmlns=\"http://hl7.org/fhir\"><id value=\"TestScript-example\"/><meta><versionId value=\"22\"/><lastUpdated value=\"2022-02-18T00:40:15.231+08:00\"/></meta><url value=\"http://hl7.org/fhir/TestScript/testscript-example\"/><identifier><system value=\"urn:ietf:rfc:3986\"/><value value=\"Hn1gKPrROuYcwVa4\"/></identifier><version value=\"1.0\"/><name value=\"TestScript Example\"/><status value=\"draft\"/><experimental value=\"true\"/><date value=\"2017-01-18T08:00:00+08:00\"/><publisher value=\"HL7\"/><contact><name value=\"Jay Marks\"/><telecom><system value=\"email\"/><value value=\"1rDO2fDbknu\"/><use value=\"work\"/></telecom></contact><description value=\"TestScript example resource with setup to delete if present and create a new instance of a Patient; and single test definition to read the created Patient with various asserts.\"/><useContext><code><system value=\"http://terminology.hl7.org/CodeSystem/usage-context-type\"/><code value=\"focus\"/></code><valueCodeableConcept><coding><system value=\"http://terminology.hl7.org/CodeSystem/variant-state\"/><code value=\"positive\"/></coding></valueCodeableConcept></useContext><jurisdiction><coding><system value=\"urn:iso:std:iso:3166\"/><code value=\"US\"/><display value=\"HqmG7894arA\"/></coding></jurisdiction><purpose value=\"Patient Conditional Create (Update), Read and Delete Operations\"/><copyright value=\"© HL7.org 2011+\"/><metadata><link><url value=\"http://hl7.org/fhir/patient.html\"/><description value=\"Demographics and other administrative information about an individual or animal receiving care or other health-related services.\"/></link><capability><required value=\"true\"/><validated value=\"false\"/><description value=\"Patient Update, Read and Delete Operations\"/><link value=\"http://hl7.org/fhir/http.html#delete\"/><link value=\"http://hl7.org/fhir/http.html#read\"/><link value=\"http://hl7.org/fhir/http.html#update\"/><capabilities value=\"CapabilityStatement/example\"/></capability></metadata><fixture><autocreate value=\"false\"/><autodelete value=\"false\"/><resource><reference value=\"Patient/example\"/><display value=\"yNoqD3c781bhezfN\"/></resource></fixture><fixture><autocreate value=\"false\"/><autodelete value=\"false\"/><resource><reference value=\"Patient/example\"/><display value=\"tnrFxEaVw2\"/></resource></fixture><profile><reference value=\"http://hl7.org/fhir/StructureDefinition/Patient\"/></profile><variable><name value=\"Michele Breitenberg\"/><path value=\"Patient/id\"/><sourceId value=\"fixture-patient-create\"/></variable><setup><action><operation><type><system value=\"http://terminology.hl7.org/CodeSystem/testscript-operation-codes\"/><code value=\"delete\"/></type><resource value=\"Patient\"/><label value=\"SetupDeletePatient\"/><description value=\"Execute a delete operation to insure the patient does not exist on the server.\"/><accept value=\"json\"/><encodeRequestUrl value=\"true\"/><params value=\"/${createResourceId}\"/></operation></action><action><assert><description value=\"Confirm that the returned HTTP status is 200(OK) or 204(No Content).\"/><direction value=\"response\"/><operator value=\"in\"/><responseCode value=\"200,204\"/><warningOnly value=\"false\"/></assert></action><action><operation><type><system value=\"http://terminology.hl7.org/CodeSystem/testscript-operation-codes\"/><code value=\"update\"/></type><resource value=\"Patient\"/><label value=\"SetupCreatePatient\"/><description value=\"Create patient resource on test server using the contents of fixture-patient-create\"/><accept value=\"json\"/><contentType value=\"json\"/><encodeRequestUrl value=\"true\"/><params value=\"/${createResourceId}\"/><sourceId value=\"fixture-patient-create\"/></operation></action><action><assert><description value=\"Confirm that the returned HTTP status is 201(Created).\"/><direction value=\"response\"/><responseCode value=\"201\"/><warningOnly value=\"false\"/></assert></action><action><operation><type><system value=\"http://terminology.hl7.org/CodeSystem/testscript-operation-codes\"/><code value=\"read\"/></type><resource value=\"Patient\"/><description value=\"Read the created patient resource on the test server using the id from fixture-patient-create. Verify contents.\"/><encodeRequestUrl value=\"true\"/><targetId value=\"fixture-patient-create\"/></operation></action><action><assert><description value=\"Confirm that the returned HTTP status is 200(OK).\"/><direction value=\"response\"/><response value=\"okay\"/><warningOnly value=\"false\"/></assert></action><action><assert><description value=\"Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit compareToSourceId reference to fixture-patient-create used to create the Patient.\"/><compareToSourceId value=\"fixture-patient-create\"/><compareToSourceExpression value=\"Patient.name.first().family\"/><operator value=\"equals\"/><warningOnly value=\"false\"/></assert></action></setup><test><name value=\"Nora Kohler\"/><description value=\"Read a Patient and validate response.\"/><action><operation><type><system value=\"http://terminology.hl7.org/CodeSystem/testscript-operation-codes\"/><code value=\"read\"/></type><resource value=\"Patient\"/><description value=\"Read the patient resource on the test server using the id from fixture-patient-create. Prevent URL encoding of the request.\"/><encodeRequestUrl value=\"false\"/><responseId value=\"fixture-patient-read\"/><targetId value=\"fixture-patient-create\"/></operation></action><action><assert><label value=\"01-ReadPatientOK\"/><description value=\"Confirm that the returned HTTP status is 200(OK).\"/><direction value=\"response\"/><response value=\"okay\"/><warningOnly value=\"false\"/></assert></action><action><assert><description value=\"Confirm that the returned HTTP Header Last-Modified is present. Warning only as the server might not support versioning.\"/><direction value=\"response\"/><headerField value=\"Last-Modified\"/><operator value=\"notEmpty\"/><warningOnly value=\"true\"/></assert></action><action><assert><description value=\"Confirm that the returned resource type is Patient.\"/><resource value=\"Patient\"/><warningOnly value=\"false\"/></assert></action><action><assert><description value=\"Confirm that the returned Patient conforms to the base FHIR specification.\"/><validateProfileId value=\"patient-profile\"/><warningOnly value=\"false\"/></assert></action><action><assert><description value=\"Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit sourceId reference to read responseId fixture.\"/><operator value=\"equals\"/><path value=\"fhir:Patient/fhir:name/fhir:family/@value\"/><sourceId value=\"fixture-patient-read\"/><value value=\"jNxhvmmXEUK\"/><warningOnly value=\"false\"/></assert></action><action><assert><description value=\"Confirm that the returned Patient contains the expected given name 'Peter'. Uses explicit sourceId reference to read responseId fixture.\"/><operator value=\"equals\"/><path value=\"fhir:Patient/fhir:name/fhir:given/@value\"/><sourceId value=\"fixture-patient-read\"/><value value=\"IOqzXcXNwj4ERCm\"/><warningOnly value=\"false\"/></assert></action><action><assert><description value=\"Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit compareToSourceId reference to fixture-patient-create used to create the Patient and implicit reference to read response payload.\"/><compareToSourceId value=\"fixture-patient-create\"/><compareToSourcePath value=\"fhir:Patient/fhir:name/fhir:family/@value\"/><operator value=\"equals\"/><path value=\"fhir:Patient/fhir:name/fhir:family/@value\"/><warningOnly value=\"false\"/></assert></action><action><assert><description value=\"Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit compareToSourceId reference to fixture-patient-create used to create the Patient and explicit reference to read response payload and default operator of 'equals'.\"/><compareToSourceId value=\"fixture-patient-create\"/><compareToSourcePath value=\"fhir:Patient/fhir:name/fhir:given/@value\"/><path value=\"fhir:Patient/fhir:name/fhir:given/@value\"/><sourceId value=\"fixture-patient-read\"/><warningOnly value=\"false\"/></assert></action><action><assert><description value=\"Confirm that the returned resource contains the expected retained elements and values. Warning only to provide users with reviewable results.\"/><minimumId value=\"fixture-patient-minimum\"/><warningOnly value=\"true\"/></assert></action></test><teardown><action><operation><type><system value=\"http://terminology.hl7.org/CodeSystem/testscript-operation-codes\"/><code value=\"delete\"/></type><resource value=\"Patient\"/><description value=\"Delete the patient resource on the test server using the id from fixture-patient-create.\"/><encodeRequestUrl value=\"true\"/><targetId value=\"fixture-patient-create\"/></operation></action></teardown></TestScript>"}}}}},"400":{"description":"error","content":{"application/fhir+json":{"schema":{"type":"object","items":{"$ref":"#/components/schemas/FHIR-XML-RESOURCE"}},"examples":{"Bad-Request-Response":{"value":{"resourceType":"OperationOutcome","issue":[{"severity":"error","code":"exception","diagnostics":"validation error, path `resourceType` is required"}]}}}},"application/fhir+xml":{"schema":{"type":"object","items":{"$ref":"#/components/schemas/FHIR-XML-RESOURCE"},"xml":{"name":"OperationOutcome"}},"examples":{"Bad-Request-Response":{"value":"\n<OperationOutcome xmlns='http://hl7.org/fhir'>\n<issue>\n    <severity value='error'/>\n    <code value='exception'/>\n    <diagnostics value='validation error, path `resourceType` is required'/>\n</issue>\n</OperationOutcome>"}}}}}},"x-codeSamples":[{"lang":"Shell","source":"#example from: https://chinlinlee.github.io/Burni/assets/FHIR/fhir-resource-examples/testscript-example.json\ncurl --location --request PUT 'http://burni.example.com/fhir/TestScript/TestScript-example \\' \n--header 'Content-Type: application/fhir+json' \\\n--data-raw '{\"resourceType\":\"TestScript\",\"id\":\"testscript-example\",\"text\":{\"status\":\"generated\",\"div\":\"<div xmlns=\\\"http://www.w3.org/1999/xhtml\\\"><p><b>Generated Narrative with Details</b></p><p><b>id</b>: testscript-example</p><p><b>url</b>: <b>http://hl7.org/fhir/TestScript/testscript-example</b></p><p><b>identifier</b>: urn:oid:1.3.6.1.4.1.21367.2005.3.7.9876</p><p><b>version</b>: 1.0</p><p><b>name</b>: TestScript Example</p><p><b>status</b>: draft</p><p><b>experimental</b>: true</p><p><b>date</b>: 18/01/2017</p><p><b>publisher</b>: HL7</p><p><b>contact</b>: </p><p><b>description</b>: TestScript example resource with setup to delete if present and create a new instance of a Patient; and single test definition to read the created Patient with various asserts.</p><p><b>useContext</b>: </p><p><b>jurisdiction</b>: United States of America (the) <span>(Details : {urn:iso:std:iso:3166 code 'US' = 'United States of America', given as 'United States of America (the)'})</span></p><p><b>purpose</b>: Patient Conditional Create (Update), Read and Delete Operations</p><p><b>copyright</b>: © HL7.org 2011+</p><blockquote><p><b>metadata</b></p><h3>Links</h3><table><tr><td>-</td><td><b>Url</b></td><td><b>Description</b></td></tr><tr><td>*</td><td><a>http://hl7.org/fhir/patient.html</a></td><td>Demographics and other administrative information about an individual or animal receiving care or other health-related services.</td></tr></table><h3>Capabilities</h3><table><tr><td>-</td><td><b>Required</b></td><td><b>Validated</b></td><td><b>Description</b></td><td><b>Link</b></td><td><b>Capabilities</b></td></tr><tr><td>*</td><td>true</td><td>false</td><td>Patient Update, Read and Delete Operations</td><td><a>http://hl7.org/fhir/http.html#delete</a></td><td><a>CapabilityStatement/example</a></td></tr></table></blockquote><blockquote><p><b>fixture</b></p><p><b>autocreate</b>: false</p><p><b>autodelete</b>: false</p><p><b>resource</b>: <a>Peter Chalmers</a></p></blockquote><blockquote><p><b>fixture</b></p><p><b>autocreate</b>: false</p><p><b>autodelete</b>: false</p><p><b>resource</b>: <a>Peter Chalmers (minimum)</a></p></blockquote><p><b>profile</b>: <a>Generated Summary: url: http://hl7.org/fhir/StructureDefinition/Patient; version: 4.0.1; name: Patient; ACTIVE; date: 01/11/2019 9:29:23 AM; publisher: Health Level Seven International (Patient Administration); description: Demographics and other administrative information about an individual or animal receiving care or other health-related services.; purpose: Tracking patient is the center of the healthcare process.; 4.0.1; RESOURCE; type: Patient; baseDefinition: http://hl7.org/fhir/StructureDefinition/DomainResource; SPECIALIZATION</a></p><h3>Variables</h3><table><tr><td>-</td><td><b>Name</b></td><td><b>Path</b></td><td><b>SourceId</b></td></tr><tr><td>*</td><td>createResourceId</td><td>Patient/id</td><td>fixture-patient-create</td></tr></table><blockquote><p><b>setup</b></p><blockquote><p><b>action</b></p><h3>Operations</h3><table><tr><td>-</td><td><b>Type</b></td><td><b>Resource</b></td><td><b>Label</b></td><td><b>Description</b></td><td><b>Accept</b></td><td><b>EncodeRequestUrl</b></td><td><b>Params</b></td></tr><tr><td>*</td><td>Delete (Details: http://terminology.hl7.org/CodeSystem/testscript-operation-codes code delete = 'Delete', stated as 'null')</td><td>Patient</td><td>SetupDeletePatient</td><td>Execute a delete operation to insure the patient does not exist on the server.</td><td>json</td><td>true</td><td>/${createResourceId}</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td><td><b>Description</b></td><td><b>Direction</b></td><td><b>Operator</b></td><td><b>ResponseCode</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned HTTP status is 200(OK) or 204(No Content).</td><td>response</td><td>in</td><td>200,204</td><td>false</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Operations</h3><table><tr><td>-</td><td><b>Type</b></td><td><b>Resource</b></td><td><b>Label</b></td><td><b>Description</b></td><td><b>Accept</b></td><td><b>ContentType</b></td><td><b>EncodeRequestUrl</b></td><td><b>Params</b></td><td><b>SourceId</b></td></tr><tr><td>*</td><td>Update (Details: http://terminology.hl7.org/CodeSystem/testscript-operation-codes code update = 'Update', stated as 'null')</td><td>Patient</td><td>SetupCreatePatient</td><td>Create patient resource on test server using the contents of fixture-patient-create</td><td>json</td><td>json</td><td>true</td><td>/${createResourceId}</td><td>fixture-patient-create</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td><td><b>Description</b></td><td><b>Direction</b></td><td><b>ResponseCode</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned HTTP status is 201(Created).</td><td>response</td><td>201</td><td>false</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Operations</h3><table><tr><td>-</td><td><b>Type</b></td><td><b>Resource</b></td><td><b>Description</b></td><td><b>EncodeRequestUrl</b></td><td><b>TargetId</b></td></tr><tr><td>*</td><td>Read (Details: http://terminology.hl7.org/CodeSystem/testscript-operation-codes code read = 'Read', stated as 'null')</td><td>Patient</td><td>Read the created patient resource on the test server using the id from fixture-patient-create. Verify contents.</td><td>true</td><td>fixture-patient-create</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td><td><b>Description</b></td><td><b>Direction</b></td><td><b>Response</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned HTTP status is 200(OK).</td><td>response</td><td>okay</td><td>false</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td><td><b>Description</b></td><td><b>CompareToSourceId</b></td><td><b>CompareToSourceExpression</b></td><td><b>Operator</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit compareToSourceId reference to fixture-patient-create used to create the Patient.</td><td>fixture-patient-create</td><td>Patient.name.first().family</td><td>equals</td><td>false</td></tr></table></blockquote></blockquote><blockquote><p><b>test</b></p><p><b>name</b>: Read Patient</p><p><b>description</b>: Read a Patient and validate response.</p><blockquote><p><b>action</b></p><h3>Operations</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote></blockquote><blockquote><p><b>teardown</b></p><blockquote><p><b>action</b></p><h3>Operations</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote></blockquote></div>\"},\"url\":\"http://hl7.org/fhir/TestScript/testscript-example\",\"identifier\":{\"system\":\"urn:ietf:rfc:3986\",\"value\":\"Hn1gKPrROuYcwVa4\"},\"version\":\"1.0\",\"name\":\"TestScript Example\",\"status\":\"draft\",\"experimental\":true,\"date\":\"2017-01-18\",\"publisher\":\"HL7\",\"contact\":[{\"name\":\"Jay Marks\",\"telecom\":[{\"system\":\"email\",\"value\":\"1rDO2fDbknu\",\"use\":\"work\"}]}],\"description\":\"TestScript example resource with setup to delete if present and create a new instance of a Patient; and single test definition to read the created Patient with various asserts.\",\"useContext\":[{\"code\":{\"system\":\"http://terminology.hl7.org/CodeSystem/usage-context-type\",\"code\":\"focus\"},\"valueCodeableConcept\":{\"coding\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/variant-state\",\"code\":\"positive\"}]}}],\"jurisdiction\":[{\"coding\":[{\"system\":\"urn:iso:std:iso:3166\",\"code\":\"US\",\"display\":\"HqmG7894arA\"}]}],\"purpose\":\"Patient Conditional Create (Update), Read and Delete Operations\",\"copyright\":\"© HL7.org 2011+\",\"metadata\":{\"link\":[{\"url\":\"http://hl7.org/fhir/patient.html\",\"description\":\"Demographics and other administrative information about an individual or animal receiving care or other health-related services.\"}],\"capability\":[{\"required\":true,\"validated\":false,\"description\":\"Patient Update, Read and Delete Operations\",\"link\":[\"http://hl7.org/fhir/http.html#delete\",\"http://hl7.org/fhir/http.html#read\",\"http://hl7.org/fhir/http.html#update\"],\"capabilities\":\"CapabilityStatement/example\"}]},\"fixture\":[{\"id\":\"fixture-patient-create\",\"autocreate\":false,\"autodelete\":false,\"resource\":{\"reference\":\"Patient/example\",\"display\":\"yNoqD3c781bhezfN\"}},{\"id\":\"fixture-patient-minimum\",\"autocreate\":false,\"autodelete\":false,\"resource\":{\"reference\":\"Patient/example\",\"display\":\"tnrFxEaVw2\"}}],\"profile\":[{\"id\":\"patient-profile\",\"reference\":\"http://hl7.org/fhir/StructureDefinition/Patient\"}],\"variable\":[{\"name\":\"Michele Breitenberg\",\"path\":\"Patient/id\",\"sourceId\":\"fixture-patient-create\"}],\"setup\":{\"action\":[{\"operation\":{\"type\":{\"system\":\"http://terminology.hl7.org/CodeSystem/testscript-operation-codes\",\"code\":\"delete\"},\"resource\":\"Patient\",\"label\":\"SetupDeletePatient\",\"description\":\"Execute a delete operation to insure the patient does not exist on the server.\",\"accept\":\"json\",\"encodeRequestUrl\":true,\"params\":\"/${createResourceId}\"}},{\"assert\":{\"description\":\"Confirm that the returned HTTP status is 200(OK) or 204(No Content).\",\"direction\":\"response\",\"operator\":\"in\",\"responseCode\":\"200,204\",\"warningOnly\":false}},{\"operation\":{\"type\":{\"system\":\"http://terminology.hl7.org/CodeSystem/testscript-operation-codes\",\"code\":\"update\"},\"resource\":\"Patient\",\"label\":\"SetupCreatePatient\",\"description\":\"Create patient resource on test server using the contents of fixture-patient-create\",\"accept\":\"json\",\"contentType\":\"json\",\"encodeRequestUrl\":true,\"params\":\"/${createResourceId}\",\"sourceId\":\"fixture-patient-create\"}},{\"assert\":{\"description\":\"Confirm that the returned HTTP status is 201(Created).\",\"direction\":\"response\",\"responseCode\":\"201\",\"warningOnly\":false}},{\"operation\":{\"type\":{\"system\":\"http://terminology.hl7.org/CodeSystem/testscript-operation-codes\",\"code\":\"read\"},\"resource\":\"Patient\",\"description\":\"Read the created patient resource on the test server using the id from fixture-patient-create. Verify contents.\",\"encodeRequestUrl\":true,\"targetId\":\"fixture-patient-create\"}},{\"assert\":{\"description\":\"Confirm that the returned HTTP status is 200(OK).\",\"direction\":\"response\",\"response\":\"okay\",\"warningOnly\":false}},{\"assert\":{\"description\":\"Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit compareToSourceId reference to fixture-patient-create used to create the Patient.\",\"compareToSourceId\":\"fixture-patient-create\",\"compareToSourceExpression\":\"Patient.name.first().family\",\"operator\":\"equals\",\"warningOnly\":false}}]},\"test\":[{\"id\":\"01-ReadPatient\",\"name\":\"Nora Kohler\",\"description\":\"Read a Patient and validate response.\",\"action\":[{\"operation\":{\"type\":{\"system\":\"http://terminology.hl7.org/CodeSystem/testscript-operation-codes\",\"code\":\"read\"},\"resource\":\"Patient\",\"description\":\"Read the patient resource on the test server using the id from fixture-patient-create. Prevent URL encoding of the request.\",\"encodeRequestUrl\":false,\"responseId\":\"fixture-patient-read\",\"targetId\":\"fixture-patient-create\"}},{\"assert\":{\"label\":\"01-ReadPatientOK\",\"description\":\"Confirm that the returned HTTP status is 200(OK).\",\"direction\":\"response\",\"response\":\"okay\",\"warningOnly\":false}},{\"assert\":{\"description\":\"Confirm that the returned HTTP Header Last-Modified is present. Warning only as the server might not support versioning.\",\"direction\":\"response\",\"headerField\":\"Last-Modified\",\"operator\":\"notEmpty\",\"warningOnly\":true}},{\"assert\":{\"description\":\"Confirm that the returned resource type is Patient.\",\"resource\":\"Patient\",\"warningOnly\":false}},{\"assert\":{\"description\":\"Confirm that the returned Patient conforms to the base FHIR specification.\",\"validateProfileId\":\"patient-profile\",\"warningOnly\":false}},{\"assert\":{\"description\":\"Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit sourceId reference to read responseId fixture.\",\"operator\":\"equals\",\"path\":\"fhir:Patient/fhir:name/fhir:family/@value\",\"sourceId\":\"fixture-patient-read\",\"value\":\"jNxhvmmXEUK\",\"warningOnly\":false}},{\"assert\":{\"description\":\"Confirm that the returned Patient contains the expected given name 'Peter'. Uses explicit sourceId reference to read responseId fixture.\",\"operator\":\"equals\",\"path\":\"fhir:Patient/fhir:name/fhir:given/@value\",\"sourceId\":\"fixture-patient-read\",\"value\":\"IOqzXcXNwj4ERCm\",\"warningOnly\":false}},{\"assert\":{\"description\":\"Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit compareToSourceId reference to fixture-patient-create used to create the Patient and implicit reference to read response payload.\",\"compareToSourceId\":\"fixture-patient-create\",\"compareToSourcePath\":\"fhir:Patient/fhir:name/fhir:family/@value\",\"operator\":\"equals\",\"path\":\"fhir:Patient/fhir:name/fhir:family/@value\",\"warningOnly\":false}},{\"assert\":{\"description\":\"Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit compareToSourceId reference to fixture-patient-create used to create the Patient and explicit reference to read response payload and default operator of 'equals'.\",\"compareToSourceId\":\"fixture-patient-create\",\"compareToSourcePath\":\"fhir:Patient/fhir:name/fhir:given/@value\",\"path\":\"fhir:Patient/fhir:name/fhir:given/@value\",\"sourceId\":\"fixture-patient-read\",\"warningOnly\":false}},{\"assert\":{\"description\":\"Confirm that the returned resource contains the expected retained elements and values. Warning only to provide users with reviewable results.\",\"minimumId\":\"fixture-patient-minimum\",\"warningOnly\":true}}]}],\"teardown\":{\"action\":[{\"operation\":{\"type\":{\"system\":\"http://terminology.hl7.org/CodeSystem/testscript-operation-codes\",\"code\":\"delete\"},\"resource\":\"Patient\",\"description\":\"Delete the patient resource on the test server using the id from fixture-patient-create.\",\"encodeRequestUrl\":true,\"targetId\":\"fixture-patient-create\"}}]}}'","label":"cURL"},{"lang":"JavaScript","source":" //example from: https://chinlinlee.github.io/Burni/assets/FHIR/fhir-resource-examples/testscript-example.json\nconst axios = require('axios');\nconst data = {\"resourceType\":\"TestScript\",\"id\":\"TestScript-example\",\"url\":\"http://hl7.org/fhir/TestScript/testscript-example\",\"identifier\":{\"system\":\"urn:ietf:rfc:3986\",\"value\":\"Hn1gKPrROuYcwVa4\"},\"version\":\"1.0\",\"name\":\"TestScript Example\",\"status\":\"draft\",\"experimental\":true,\"date\":\"2017-01-18T08:00:00+08:00\",\"publisher\":\"HL7\",\"contact\":[{\"name\":\"Jay Marks\",\"telecom\":[{\"system\":\"email\",\"value\":\"1rDO2fDbknu\",\"use\":\"work\"}]}],\"description\":\"TestScript example resource with setup to delete if present and create a new instance of a Patient; and single test definition to read the created Patient with various asserts.\",\"useContext\":[{\"code\":{\"system\":\"http://terminology.hl7.org/CodeSystem/usage-context-type\",\"code\":\"focus\"},\"valueCodeableConcept\":{\"coding\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/variant-state\",\"code\":\"positive\"}]}}],\"jurisdiction\":[{\"coding\":[{\"system\":\"urn:iso:std:iso:3166\",\"code\":\"US\",\"display\":\"HqmG7894arA\"}]}],\"purpose\":\"Patient Conditional Create (Update), Read and Delete Operations\",\"copyright\":\"© HL7.org 2011+\",\"metadata\":{\"link\":[{\"url\":\"http://hl7.org/fhir/patient.html\",\"description\":\"Demographics and other administrative information about an individual or animal receiving care or other health-related services.\"}],\"capability\":[{\"required\":true,\"validated\":false,\"description\":\"Patient Update, Read and Delete Operations\",\"link\":[\"http://hl7.org/fhir/http.html#delete\",\"http://hl7.org/fhir/http.html#read\",\"http://hl7.org/fhir/http.html#update\"],\"capabilities\":\"CapabilityStatement/example\"}]},\"fixture\":[{\"autocreate\":false,\"autodelete\":false,\"resource\":{\"reference\":\"Patient/example\",\"display\":\"yNoqD3c781bhezfN\"}},{\"autocreate\":false,\"autodelete\":false,\"resource\":{\"reference\":\"Patient/example\",\"display\":\"tnrFxEaVw2\"}}],\"profile\":[{\"reference\":\"http://hl7.org/fhir/StructureDefinition/Patient\"}],\"variable\":[{\"name\":\"Michele Breitenberg\",\"path\":\"Patient/id\",\"sourceId\":\"fixture-patient-create\"}],\"setup\":{\"action\":[{\"operation\":{\"type\":{\"system\":\"http://terminology.hl7.org/CodeSystem/testscript-operation-codes\",\"code\":\"delete\"},\"resource\":\"Patient\",\"label\":\"SetupDeletePatient\",\"description\":\"Execute a delete operation to insure the patient does not exist on the server.\",\"accept\":\"json\",\"encodeRequestUrl\":true,\"params\":\"/${createResourceId}\"}},{\"assert\":{\"description\":\"Confirm that the returned HTTP status is 200(OK) or 204(No Content).\",\"direction\":\"response\",\"operator\":\"in\",\"responseCode\":\"200,204\",\"warningOnly\":false}},{\"operation\":{\"type\":{\"system\":\"http://terminology.hl7.org/CodeSystem/testscript-operation-codes\",\"code\":\"update\"},\"resource\":\"Patient\",\"label\":\"SetupCreatePatient\",\"description\":\"Create patient resource on test server using the contents of fixture-patient-create\",\"accept\":\"json\",\"contentType\":\"json\",\"encodeRequestUrl\":true,\"params\":\"/${createResourceId}\",\"sourceId\":\"fixture-patient-create\"}},{\"assert\":{\"description\":\"Confirm that the returned HTTP status is 201(Created).\",\"direction\":\"response\",\"responseCode\":\"201\",\"warningOnly\":false}},{\"operation\":{\"type\":{\"system\":\"http://terminology.hl7.org/CodeSystem/testscript-operation-codes\",\"code\":\"read\"},\"resource\":\"Patient\",\"description\":\"Read the created patient resource on the test server using the id from fixture-patient-create. Verify contents.\",\"encodeRequestUrl\":true,\"targetId\":\"fixture-patient-create\"}},{\"assert\":{\"description\":\"Confirm that the returned HTTP status is 200(OK).\",\"direction\":\"response\",\"response\":\"okay\",\"warningOnly\":false}},{\"assert\":{\"description\":\"Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit compareToSourceId reference to fixture-patient-create used to create the Patient.\",\"compareToSourceId\":\"fixture-patient-create\",\"compareToSourceExpression\":\"Patient.name.first().family\",\"operator\":\"equals\",\"warningOnly\":false}}]},\"test\":[{\"name\":\"Nora Kohler\",\"description\":\"Read a Patient and validate response.\",\"action\":[{\"operation\":{\"type\":{\"system\":\"http://terminology.hl7.org/CodeSystem/testscript-operation-codes\",\"code\":\"read\"},\"resource\":\"Patient\",\"description\":\"Read the patient resource on the test server using the id from fixture-patient-create. Prevent URL encoding of the request.\",\"encodeRequestUrl\":false,\"responseId\":\"fixture-patient-read\",\"targetId\":\"fixture-patient-create\"}},{\"assert\":{\"label\":\"01-ReadPatientOK\",\"description\":\"Confirm that the returned HTTP status is 200(OK).\",\"direction\":\"response\",\"response\":\"okay\",\"warningOnly\":false}},{\"assert\":{\"description\":\"Confirm that the returned HTTP Header Last-Modified is present. Warning only as the server might not support versioning.\",\"direction\":\"response\",\"headerField\":\"Last-Modified\",\"operator\":\"notEmpty\",\"warningOnly\":true}},{\"assert\":{\"description\":\"Confirm that the returned resource type is Patient.\",\"resource\":\"Patient\",\"warningOnly\":false}},{\"assert\":{\"description\":\"Confirm that the returned Patient conforms to the base FHIR specification.\",\"validateProfileId\":\"patient-profile\",\"warningOnly\":false}},{\"assert\":{\"description\":\"Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit sourceId reference to read responseId fixture.\",\"operator\":\"equals\",\"path\":\"fhir:Patient/fhir:name/fhir:family/@value\",\"sourceId\":\"fixture-patient-read\",\"value\":\"jNxhvmmXEUK\",\"warningOnly\":false}},{\"assert\":{\"description\":\"Confirm that the returned Patient contains the expected given name 'Peter'. Uses explicit sourceId reference to read responseId fixture.\",\"operator\":\"equals\",\"path\":\"fhir:Patient/fhir:name/fhir:given/@value\",\"sourceId\":\"fixture-patient-read\",\"value\":\"IOqzXcXNwj4ERCm\",\"warningOnly\":false}},{\"assert\":{\"description\":\"Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit compareToSourceId reference to fixture-patient-create used to create the Patient and implicit reference to read response payload.\",\"compareToSourceId\":\"fixture-patient-create\",\"compareToSourcePath\":\"fhir:Patient/fhir:name/fhir:family/@value\",\"operator\":\"equals\",\"path\":\"fhir:Patient/fhir:name/fhir:family/@value\",\"warningOnly\":false}},{\"assert\":{\"description\":\"Confirm that the returned Patient contains the expected family name 'Chalmers'. Uses explicit compareToSourceId reference to fixture-patient-create used to create the Patient and explicit reference to read response payload and default operator of 'equals'.\",\"compareToSourceId\":\"fixture-patient-create\",\"compareToSourcePath\":\"fhir:Patient/fhir:name/fhir:given/@value\",\"path\":\"fhir:Patient/fhir:name/fhir:given/@value\",\"sourceId\":\"fixture-patient-read\",\"warningOnly\":false}},{\"assert\":{\"description\":\"Confirm that the returned resource contains the expected retained elements and values. Warning only to provide users with reviewable results.\",\"minimumId\":\"fixture-patient-minimum\",\"warningOnly\":true}}]}],\"teardown\":{\"action\":[{\"operation\":{\"type\":{\"system\":\"http://terminology.hl7.org/CodeSystem/testscript-operation-codes\",\"code\":\"delete\"},\"resource\":\"Patient\",\"description\":\"Delete the patient resource on the test server using the id from fixture-patient-create.\",\"encodeRequestUrl\":true,\"targetId\":\"fixture-patient-create\"}}]},\"meta\":{\"versionId\":\"20\",\"lastUpdated\":\"2022-02-17T23:28:59.950+08:00\"}}\nconst config = {\n    method: 'put',\n    url: 'http://burni.example.com/fhir/TestScript/TestScript-example',\n    headers: { \n        'Content-Type': 'application/fhir+json'\n    },\n    data: data\n};\n\naxios(config)\n.then(function (response) {\n    console.log(JSON.stringify(response.data));\n})\n.catch(function (error) {\n    console.log(error);\n});","label":"javascript Axios"}]}}},"components":{"schemas":{"createTestScript":{"properties":{"resourceType":{"type":"string","description":""}},"required":["resourceType"]},"FHIR-JSON-RESOURCE":{"properties":{}},"FHIR-XML-RESOURCE":{"properties":{}},"deleteTestScript":{"properties":{"id":{"type":"string","description":"Resource ID in server"}},"required":["id"]},"readTestScript":{"properties":{"id":{"type":"string","description":"Resource ID in server"}},"required":["id"]},"updateTestScript":{"properties":{"id":{"type":"string","description":"Resource ID that you want to update"},"resourceType":{"type":"string","description":""}},"required":["id","resourceType"]}}}}